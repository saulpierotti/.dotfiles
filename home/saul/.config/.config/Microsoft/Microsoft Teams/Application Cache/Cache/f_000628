webpackJsonp([13],{2245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2246),n(2250),n(2258)},2246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2247),i=n(2249),o=function(){function e(e,t,n,r,i,o){this.loggingService=e,this.$window=t,this.constants=n,this.utilityService=r,this.desktopUtilityService=i,this.eventingService=o,this.logger=e.newLogger("ExperienceContainerFactory")}return e.$inject=["loggingService","$window","constants","utilityService","desktopUtilityService","eventingService"],e.prototype.generateContainerId=function(){return"experience-renderer-"+this.utilityService.generateUUID()},e.prototype.create=function(e){this.logger.log("creating experience container");var t=this.generateContainerId(),n=this.desktopUtilityService.isElectron(),o=this.loggingService.findScenario(this.constants.experienceContainers.scenarios.init);return o&&o.mark(this.constants.experienceContainers.step.factoryCreate,{isElectron:n}),n?(this.logger.info("Creating WebView experience container: "+t,e),new i.WebViewExperienceContainer(this.loggingService,t,e,this.$window,this.constants,this.eventingService)):(this.logger.info("Creating IFrame experience container: "+t,e),new r.IframeExperienceContainer(this.loggingService,t,e,this.$window,this.constants))},e}();t.ExperienceContainerFactory=o,angular.module("teamspace.experienceContainerFactory",["teamspace.loggingService","teamspace.constants","teamspace.utilityService","teamspace.desktopUtilityService"]).service("experienceContainerFactory",o)},2247:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(56),a=function(e){function t(t,n,r,i,o){var a=e.call(this,t.newLogger("IframeExperienceContainer"),n,r,o,i)||this,u=new URL(r.url);return a.origin=u.origin,a}return r(t,e),t.prototype.createElement=function(e){var t=this,n=o.htmlFactory.createIframe(this.elementId);return n.src=e,n.setAttribute("class","embedded-electron-webview embedded-page-content"),this.$window.addEventListener("message",function(e){var r=e.source,i=e.origin,o=e.data,a=o.channel,u=o.payload;r===n.contentWindow&&i===t.origin&&a===t.constants.multiWindow.channel&&u&&t.publish(u.eventId,u.payload)}),n},t.prototype.appendTo=function(t){var n=this;return this.element?new Promise(function(r){n.updateTMPStorageSettings(),r(e.prototype.appendTo.call(n,t))}):Promise.reject("unable to mount")},t.prototype.updateTMPStorageSettings=function(){var e=JSON.parse(this.$window.localStorage.getItem("tmp.settings")),t=this.params.settings.hostSettings,n=e&&e.core||{},r=e&&e.host||{},o=t&&t.core||{};e=JSON.stringify(i({},e,{core:i({},n,o),host:i({},r,o)})),this.$window.localStorage.setItem("tmp.settings",e)},t.prototype._sendCommand=function(e){var t=i({},e,{channel:this.constants.multiWindow.channel,metaData:{destination:{channel:e.eventId}}});return this.element.contentWindow.postMessage(t,this.origin),Promise.resolve()},t}(n(227).ExperienceContainer);t.IframeExperienceContainer=a},2248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.logger=e,this.handlers=new Map}return e.prototype.publish=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.handlers.get(e)||[];this.logger.debug("Publishing event "+e+" to "+i.length+" subscribers with following args",n),i.forEach(function(e){try{e.apply(void 0,n)}catch(e){t.logger.warn("Unable to publish event to handler because it threw the following error: "+e)}})},e.prototype.addEventListener=function(e,t){var n=this.handlers.get(e)||[];n.push(t),this.handlers.set(e,n)},e.prototype.removeEventListener=function(e,t){var n=this.handlers.get(e)||[];n=n.filter(function(e){return e!==t}),this.handlers.set(e,n)},e}();t.EventPublisher=r},2249:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=n(56),a=function(e){function t(t,n,r,i,o,a){var u=e.call(this,t.newLogger("WebViewExperienceContainer"),n,r,o,i)||this;return u.eventingService=a,u}return r(t,e),t.prototype.createElement=function(e){var t=this;try{var n=o.htmlFactory.createWebView(this.elementId);return n.src=e,n.setAttribute("class","embedded-electron-webview embedded-page-content"),n.setAttribute("webpreferences","nativeWindowOpen=yes, sandbox=yes"),n.setAttribute("allowpopups",""),n.addEventListener("ipc-message",function(e){if(e.channel===t.constants.experienceContainers.channel){var n=e.args&&e.args[0];if(!n)return void t.logger.error("Invalid webview ipc-message - received no args.");if(n.requestRendererId=t.elementId,t.publish("message",n),n.eventId){if(n.eventId===i.ChildWindowEventRequest.ExperienceStarted){var r=n.payload&&n.payload.message,o=n.payload&&n.payload.errorCode;t.logger.info("ExperienceStarted:"+r+" code:"+o),o&&-1==o&&t.publish("failed-to-load-chunk",e)}t.publish(n.eventId,n.payload)}}}),n.addEventListener("crashed",function(){t.logger.error("Experience container with Id "+t.elementId+" has crashed"),t.eventingService.$emit(t.constants.events.experienceContainers.crashed,{id:t.elementId}),t.publish("crashed")}),n.addEventListener("did-fail-load",function(e){t.logger.error("Experience container with Id "+t.elementId+" failed to load. Url="+t.params.url+" Error="+e.errorDescription+" ("+e.errorCode+")"),t.publish("failed-to-load",e)}),n.addEventListener("did-navigate",function(e){var n=e.httpResponseCode,r=t.constants.responseCode;t.logger.info("Experience container with Id "+t.elementId+" did navigate with "+n+". Url="+t.params.url),-1!==n&&n!==r.ok&&t.publish("failed-to-navigate",e)}),n}catch(e){this.logger.error("Experience container with Id "+this.elementId+" loading exception: "+e);var r=this.logger.service.findScenario(this.constants.experienceContainers.scenarios.init);throw r&&r.fail({reason:this.constants.experienceContainers.reason.webViewEcCreateElementFailed}),e}},t.prototype.appendTo=function(t){var n=this;return this.element?new Promise(function(r,i){var o={enablePreload:!0,isExperienceRenderer:!0,rendererContext:JSON.stringify(n.params.settings||{})},a=n.$window.setTimeout(function(){n.logger.error("Timed out waiting for IPC response webViewCreationEnabled"),i({reason:n.constants.experienceContainers.reason.timeoutWebViewCreationEnabled})},n.constants.experienceContainers.timers.ipcWebViewCreationEnabledTimeout);n.$window.electronSafeIpc.once(n.constants.events.desktopApp.webViewCreationEnabled,function(){n.logger.info("Received webViewCreationEnabled event, Appending webview element to the page"),n.$window.clearTimeout(a),e.prototype.appendTo.call(n,t).then(r).catch(function(e){n.logger.warn("Failed to append webview element to the page: "+e),i({reason:e})})});try{n.$window.electronSafeIpc.send(n.constants.events.desktopApp.allowWebViewCreate,o)}catch(e){n.logger.error("Failed to send electronSafeIpc - elementId="+n.elementId+": "+e),i({reason:n.constants.experienceContainers.reason.ipcAllowWebViewCreateError,errorCode:e})}}):Promise.reject({reason:this.constants.experienceContainers.reason.webViewEcAppendToNoElement})},t.prototype._sendCommand=function(e){var t=this;return this.element.send(this.constants.experienceContainers.channel,e),new Promise(function(n,r){if(e.payload&&e.payload.command&&e.payload.command.correlation&&e.payload.command.correlation.id){var o=function(r){var i=r.correlationId,o=r.step;if(e.payload.command.correlation.id===i){var a=t.logger.service.findScenarioByNameAndId(t.constants.multiWindow.scenario.enqueueEntityCommand,i);t.logger.log("Command with id "+i+" reported step "+o),a&&a.appendEventData({previousStep:o}),"RenderStarted"===o&&n()}},a=function(u){var c=u.correlationId,s=u.commandStatus;if(e.payload.command.correlation.id===c){t.logger.log("Command with id "+c+" reported complete with status "+s);var f=t.logger.service.findScenarioByNameAndId(t.constants.multiWindow.scenario.enqueueEntityCommand,c);"Failure"===s&&r(teamspace.services.commanding.EntityCommandErrorCode.SendCommandFailure),f?(f.stop({reason:s}),n(),t.removeEventListener(i.ChildWindowEventRequest.CommandComplete,a),t.removeEventListener(i.ChildWindowEventRequest.CommandStep,o)):t.logger.warn("Received commandComplete event, but could not find a corresponding scenario")}};t.addEventListener(i.ChildWindowEventRequest.CommandComplete,a),t.addEventListener(i.ChildWindowEventRequest.CommandStep,o),t.$window.setTimeout(function(){t.removeEventListener(i.ChildWindowEventRequest.CommandComplete,a),t.removeEventListener(i.ChildWindowEventRequest.CommandStep,o),r(teamspace.services.commanding.EntityCommandErrorCode.TimeoutWaitingForCompletion)},3e4)}else n()})},t}(n(227).ExperienceContainer);t.WebViewExperienceContainer=a},2250:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(56),a=n(2251),u=n(2252),c=n(2254),s=function(e){function t(t,n,r,o,u,s,f,l,p,h,d,v){var g=e.call(this,t)||this;return g.loggingService=n,g.experienceContainerFactory=r,g.constants=o,g.desktopUtilityService=u,g.settingsService=s,g.experienceContainerFeatureService=f,g.experienceContainerCdlCommunicator=l,g.$window=d,g.containers=new Map,g.isCreatingContainer=!1,g.wrapOnReadyCallback=function(){g.isCreatingContainer=!1,g.onReadyCallback()},g.onTearDown=function(e,t){g.logger.warn("Tearing down "+e.experienceContainer.elementId+" because it has "+t.reason+"."),g.settingsService.valueAsBoolean(g.constants.settings.names.enableAutoBRBforERCrashes)&&e.params&&e.params.url&&e.params.url.includes("teams.microsoft.com/")&&"crashed"===t.reason&&0===g.retryManager.recreateAttempts&&g.logger.error("MultiWindow ExperienceRenderer Crashed or Failed to Load, so triggering AutoBRB"),g.remove(e,t),g.shouldRetry(t)},g.onShouldRetry=function(e){var t=g.loggingService.findScenario(g.constants.experienceContainers.scenarios.init)||g.loggingService.newScenario(g.constants.experienceContainers.scenarios.retryInit);t&&t.mark(g.constants.experienceContainers.step.onTearDownRecreate,i({recreateAttempts:g.retryManager.recreateAttempts,reason:e.reason},e.data)),g.initInternal(t)},g.onShouldRetryFailure=function(e,t){g.logger.info("Retry failed. We tried to retry "+g.retryManager.recreateAttempts+" times. Retry failure: "+e+". Retry reason: "+t.reason),e===c.RETRY_FAILURES.FAILED&&(g.isCreatingContainer=!1,g.markTearDownScenario(t,g.retryManager.recreateAttempts))},g.mountElement=g.createAndMountElement(),g.serviceWrapper=new a.ServiceWrapper(o,v,d,f),g.serviceWrapper.initialize(),g.logger=n.newLogger("MW::ExperienceContainerManager"),g.retryManager=new c.ExperienceContainerRetryManager(o,n,p,h,s),g.initializeOnAppLaunchAndReinit("constructor"),d.addEventListener("unload",function(){g.cleanupOnAppTeardown("shutdown"),n.flush()}),g}return r(t,e),t.$inject=["orchestrationService","loggingService","experienceContainerFactory","constants","desktopUtilityService","settingsService","experienceContainerFeatureService","experienceContainerCdlCommunicator","appStateService","eventingService","$window","$injector"],t.prototype.mtmaTelemetryIdentifier=function(){return"ExperienceContainerManager"},t.prototype.initializeOnAppLaunchAndReinit=function(e){var t=this.loggingService.findScenario(this.constants.experienceContainers.scenarios.init);this.initInternal(t)},t.prototype.cleanupOnAppTeardown=function(e){for(;this.containers.size>0;){var t=this.containers.entries().next().value,n=t[0],r=t[1];u.isContainerFactory(r)||(this.remove(r,{reason:e}),this.markTearDownScenario({reason:e},this.retryManager.recreateAttempts)),this.containers.delete(n)}this.retryManager.reset(),"shutdown"===e&&(this.onReadyCallback=void 0),this.isCreatingContainer=!1},Object.defineProperty(t.prototype,"isReady",{get:function(){var e=this.getContainerEntry("multi-window");return!(!e||!e.isReady)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryState",{get:function(){return this.retryManager.retryState},enumerable:!0,configurable:!0}),t.prototype.onReady=function(e){this.onReadyCallback=e;var t=this.getContainerEntry("multi-window");t?t.onReady(this.wrapOnReadyCallback):this.logger.warn("Registration for onReady callback arrived when container entry is undefined")},t.prototype.nudge=function(){if(this.logger.info("Received a nudge to recreate the experience container"),this.isCreatingContainer)this.logger.info("Ignoring nudge request as we are already creating a container.");else{var e=this.getContainerEntry("multi-window");e||(this.retryManager.reset(),this.shouldRetry({reason:"nudge"})),(e=this.getContainerEntry("multi-window"))||this.logger.error("The nudge attempt failed to recreate the experience container.")}},t.prototype.collectLogs=function(){var e=this.getContainerEntry("multi-window");return e?e.collectLogs():Promise.resolve([])},t.prototype.shouldShowChatNotification=function(e){var t=this.getContainerEntry("multi-window");return t?t.shouldShowChatNotification(e):Promise.resolve({shouldShowChatNotification:!0,windowId:void 0})},t.prototype.initInternal=function(e){var t=this;if(this.isEnabled())try{this.isCreatingContainer=!0;var n=this.settingsService.valueAsObject(this.constants.settings.names.experienceContainers);Object.keys(n).forEach(function(r){var i=n[r];t.logger.info("Registering '"+r+"' experience container with options: {0}",i),e&&e.mark(t.constants.experienceContainers.step.appLaunchRegister,{reason:JSON.stringify(i),config:r}),t.register(t.getDefaultContainerParams(i))})}catch(t){this.logger.error("Failed to initialize some containers",t),e&&e.fail({reason:this.constants.experienceContainers.reason.appLaunchFailed}),this.isCreatingContainer=!1}else e&&e.fail({reason:this.constants.experienceContainers.reason.notEnabledDuringAppLaunch})},t.prototype.isEnabled=function(){return this.experienceContainerFeatureService.isExperienceContainerSupportEnabled()},t.prototype.getDefaultContainerParams=function(e){var t=this.desktopUtilityService.isElectron()?"electron":"web",n=new URL(e.baseUrl);n.searchParams.append("agent",t);var r=this.$window.desktopSettings&&this.$window.desktopSettings.experienceRendererBuildContainer;return r?n.searchParams.append("container",r):n.searchParams.append("version",this.getVersion()),{url:n.href,types:e.types}},t.prototype.getDefaultContainerSettings=function(e){return{windowId:"northstarCore",hostSettings:this.serviceWrapper.getHostSettings({timeOpened:Date.now(),content:{id:e,metaData:{}}}),perfMarkers:{windowCreateTimeFromMainRenderer:Date.now()},loadUrl:e}},t.prototype.getVersion=function(){return this.settingsService.getOrbitalVersion(this.constants.settings.orbitals.multiWindow)},t.prototype.register=function(e){var t=this;e.types.forEach(function(n){return t.containers.set(n,t.createContainerFactory(e))})},t.prototype.getContainerEntry=function(e){var t=this.isEnabled()&&this.containers.get(e);if(t){if(u.isContainerFactory(t)){var n=this.loggingService.newScenario(this.constants.experienceContainers.scenarios.containerEntryCreation);t=t.factory(n)}return t}},t.prototype.get=function(e){var t=this.getContainerEntry(e);return t&&t.experienceContainer},t.prototype.getUiHandle=function(e){var t=this.getContainerEntry(e);return t&&t.outerWrap},t.prototype.createContainerFactory=function(e){var t=this;return{factory:function(n){try{e.settings=t.getDefaultContainerSettings(e.url);var r=t.createContainerEntry(e);return t.add(r),n&&n.stop({reason:"success"}),r}catch(r){t.logger.error("Failed to create container entry",r,e);try{var i=t.settingsService.getRing(),o=i&&i.id&&"ring0"===i.id?JSON.stringify(r):void 0;n&&n.fail({reason:"container-creation-failed",params:JSON.stringify({url:e.url,types:e.types,windowId:e.settings.windowId}),error:o})}catch(e){n&&n.fail({reason:"container-creation-failed"})}throw r}}}},t.prototype.createContainerEntry=function(e){return this.markCreateNewScenario(),new u.ContainerEntry(e,this.experienceContainerFactory,this.loggingService,this.serviceWrapper,this.experienceContainerCdlCommunicator,this.onTearDown,this.constants,this.$window,this.logger)},t.prototype.add=function(e){var t=this;this.logger.info("Adding EC '"+e.experienceContainer.elementId+"'"),e.params.types.forEach(function(n){return t.containers.set(n,e)}),this.mountElement.appendChild(e.outerWrap),e.params.types.includes("multi-window")&&this.onReadyCallback&&e.onReady(this.wrapOnReadyCallback)},t.prototype.remove=function(e,t){var n=this;this.logger.info("Removing EC '"+e.experienceContainer.elementId+"' with reason='"+t.reason+"'"),this.mountElement.removeChild(e.outerWrap),this.experienceContainerCdlCommunicator&&this.experienceContainerCdlCommunicator.teardown(e.experienceContainer.elementId),e.params.types.forEach(function(e){return n.containers.delete(e)})},t.prototype.shouldRetry=function(e){var t=this;this.retryManager.shouldRetry(e).then(function(){return t.onShouldRetry(e)}).catch(function(n){return t.onShouldRetryFailure(n,e)})},t.prototype.markCreateNewScenario=function(){var e=this.constants.experienceContainers.scenarios.createNew;this.loggingService.newScenario(e).stop()},t.prototype.markTearDownScenario=function(e,t){var n=e.data,r=e.reason,o=this.loggingService.findScenario(this.constants.experienceContainers.scenarios.init)||this.loggingService.findScenario(this.constants.experienceContainers.scenarios.retryInit)||this.loggingService.newScenario(this.constants.experienceContainers.scenarios.tearDown);u.isTearDownDueToFailure(e)?o&&o.fail(i({reason:r,errorCode:r,retryAttempt:t},n)):o&&o.stop(i({reason:r,retryAttempt:t},n))},t.prototype.createAndMountElement=function(){var e=o.htmlFactory.createDiv("ExperienceContainerManagerMountElement");return e.setAttribute("class","experience-containers-root"),document.body.appendChild(e),e},t}(teamspace.services.MTMABase);t.ExperienceContainerManager=s,angular.module("teamspace.experienceContainerManager",["teamspace.orchestrationService","teamspace.loggingService","teamspace.experienceContainerFactory","teamspace.constants","teamspace.desktopUtilityService","teamspace.settingsService","teamspace.experienceContainerFeatureService","teamspace.experienceContainerCdlCommunicator","teamspace.appState","teamspace.eventingService"]).service("experienceContainerManager",s)},2251:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.experienceContainerFeatureService=i,o}return r(t,e),t.prototype.getHostSettings=function(t){var n={core:{enableMultiWindowV2:this.experienceContainerFeatureService.isExperienceContainerSupportEnabled()}},r=e.prototype.getHostSettings.call(this,t);try{r.default=i({},r.default)}catch(e){}return i({},r,n)},t}(n(218).AngularServiceWrapper);t.ServiceWrapper=o},2252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(2253),o=n(56);t.isTearDownDueToFailure=function(e){var t=e.reason;return["crashed","failed-to-load","failed-to-load-chunk","failed-to-navigate","core-init-failed"].some(function(e){return e===t})},t.isContainerFactory=function(e){return!!e.factory};var a=function(){function e(e,t,n,a,u,c,s,f,l){var p=this;this.params=e,this.experienceContainerFactory=t,this.loggingService=n,this.serviceWrapper=a,this.cdlCommunicator=u,this.onTearDownCallback=c,this.constants=s,this.$window=f,this.logger=l,this.onTearDown=function(e,t){p._isReady=!1,p.tearDownListeners(),p.shellCommWrapper.tearDown(),p.stopCoreInitializedTimer(),p.onTearDownCallback(p,{data:t,reason:e})},this.onCrashed=function(){return p.onTearDown("crashed")},this.onFailedToLoad=function(e){return p.onTearDown("failed-to-load",e&&{errorDescription:e.errorDescription,statusCode:e.errorCode})},this.onFailedToLoadChunk=function(e){var t=e&&e.args&&e.args[0];return p.onTearDown("failed-to-load-chunk",t&&{errorDescription:t.payload&&t.payload.errorDescription})},this.onFailedToNavigate=function(e){return p.onTearDown("failed-to-navigate",e&&{statusCode:e.httpResponseCode})},this.onReloaded=function(){return p.onTearDown("reloaded")},this.onCdlRequest=function(e){p.cdlCommunicator?e?(p.experienceContainer&&(e.dataLayer.rendererId=p.experienceContainer.elementId),p.cdlCommunicator.sendDataLayerRequest(e,p.experienceContainer.sendCommand)):p.logger.error("Error in processing data layer request: Data layer request is undefined."):p.logger.error("Error in processing data layer request: Cdl communicator is unavailable.")},this.startCoreInitializedTimer=function(e){if(!e)return function(){};var t=p.constants.experienceContainers.timers.coreInitializedTimeout,n=p.$window.setTimeout(function(){p.onTearDown("core-not-initialized")},t);return function(){p.$window.clearTimeout(n)}},this.onCoreInitialized=function(){p.logger.info("Experience Container Core Initailized");var e=p.logger.service.findScenario(p.constants.experienceContainers.scenarios.init)||p.logger.service.findScenario(p.constants.experienceContainers.scenarios.retryInit);e&&e.stop({reason:r.ChildWindowEventRequest.CoreInitialized}),p.stopCoreInitializedTimer(),p._isReady=!0,p.onReadyCallback?p.onReadyCallback():p.logger.error("onReady callback is not registered to the container entry")},this.onCoreInitializationFailed=function(e){p.onTearDown("core-init-failed",e&&{errorDescription:e&&e.errorDescription})},this._isReady=!1;var h=t.create(e);this.experienceContainer=h,this.setupListeners(),this.outerWrap=o.htmlFactory.createDiv("ExperienceContainerWrap-"+h.elementId),this.shellCommWrapper=new i.ShellCommWrapper(h,n,a),this.outerWrap.setAttribute("class","hidden");var d=n.findScenario(s.experienceContainers.scenarios.init);this.stopCoreInitializedTimer=this.startCoreInitializedTimer(d),h.appendTo(this.outerWrap).then(function(){d&&d.mark(s.experienceContainers.step.constructContainerEntry)}).catch(function(e){l.error("Failed to append experience container "+h.elementId+" to wrapper: "+e),d&&d.fail({reason:e&&e.reason||s.experienceContainers.reason.constructContainerEntryFailed,errorCode:e&&e.errorCode})})}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._isReady},enumerable:!0,configurable:!0}),e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.collectLogs=function(){var e=this;return new Promise(function(t,n){var i=e.constants.timeInMiliseconds.second,o=r.ChildWindowEventRequest.GetLogs,a={eventId:o},u=0,c=function(n){e.experienceContainer.removeEventListener(o,c),e.$window.clearTimeout(u),t(n&&n.logs||[])};u=e.$window.setTimeout(function(){var t="Request to gather logs from experience container timed out after "+i+" milli seconds.";e.logger.error(t),e.experienceContainer.removeEventListener(o,c),n(t)},i),e.experienceContainer.addEventListener(o,c),e.experienceContainer.sendCommand(a)})},e.prototype.shouldShowChatNotification=function(e){var t=this;return new Promise(function(n,i){var o=t.constants.timeInMiliseconds.second,a=r.ChildWindowEventRequest.ShouldShowChatNotification,u={eventId:a,payload:{convId:e}},c=0,s=function(e){if(t.experienceContainer.removeEventListener(a,s),t.$window.clearTimeout(c),e&&e.hasOwnProperty("shouldShowChatNotification"))return n(e);t.logger.error("Response for shouldShowChatNotification is malformed "+JSON.stringify(e)),n({shouldShowChatNotification:!0,windowId:void 0})};c=t.$window.setTimeout(function(){var e="Request for shouldShowChatNotification timed out after "+o+" milli seconds.";t.logger.error(e),t.experienceContainer.removeEventListener(a,s),n({shouldShowChatNotification:!0,windowId:void 0})},o),t.experienceContainer.addEventListener(a,s),t.experienceContainer.sendCommand(u)})},e.prototype.setupListeners=function(){this.experienceContainer.addEventListener("crashed",this.onCrashed),this.experienceContainer.addEventListener("failed-to-load",this.onFailedToLoad),this.experienceContainer.addEventListener("failed-to-load-chunk",this.onFailedToLoadChunk),this.experienceContainer.addEventListener("failed-to-navigate",this.onFailedToNavigate),this.experienceContainer.addEventListener(r.ChildWindowEventRequest.WindowUnloaded,this.onReloaded),this.experienceContainer.addEventListener(r.ChildWindowEventRequest.CentralDataLayerRequest,this.onCdlRequest),this.experienceContainer.addEventListener(r.ChildWindowEventRequest.CoreInitialized,this.onCoreInitialized),this.experienceContainer.addEventListener(r.ChildWindowEventRequest.CoreInitializationFailed,this.onCoreInitializationFailed)},e.prototype.tearDownListeners=function(){this.experienceContainer.removeEventListener("crashed",this.onCrashed),this.experienceContainer.removeEventListener("failed-to-load",this.onFailedToLoad),this.experienceContainer.removeEventListener("failed-to-load-chunk",this.onFailedToLoadChunk),this.experienceContainer.removeEventListener("failed-to-navigate",this.onFailedToNavigate),this.experienceContainer.removeEventListener(r.ChildWindowEventRequest.WindowUnloaded,this.onReloaded),this.experienceContainer.removeEventListener(r.ChildWindowEventRequest.CentralDataLayerRequest,this.onCdlRequest),this.experienceContainer.removeEventListener(r.ChildWindowEventRequest.CoreInitialized,this.onCoreInitialized),this.experienceContainer.removeEventListener(r.ChildWindowEventRequest.CoreInitializationFailed,this.onCoreInitializationFailed)},e}();t.ContainerEntry=a},2253:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=teamspace.services.ApplicationState,a=function(){function e(e,t,n){var r=this;this.experienceContainer=e,this.serviceWrapper=n,this.messageHandler=function(e){var t=function(e){r.experienceContainer.sendCommand(e)};switch(e.eventId){case i.ChildWindowEventRequest.AadGetToken:r.handleAadGetToken(e,t);break;case i.ChildWindowEventRequest.AadGetCurrentUser:r.handleAadGetCurrentUser(e,t);break;case i.ChildWindowEventRequest.GetStateData:r.handleGetStateData(e,t);break;case i.ChildWindowEventRequest.RequestShellToOpen:r.handleRequestShellToOpen(e,t);break;case i.ChildWindowEventRequest.UpdateWindowState:r.handleUpdateWindowState(e);break;case i.ChildWindowEventRequest.ScreenSharingControlMessage:r.handleScreenSharingControlMessage(e);break;case i.ChildWindowEventRequest.WindowCrashed:case"windowErrored":r.handleWindowErrored(e)}},e.addEventListener("message",this.messageHandler),this.logger=t.newLogger("MWv2::ShellCommWrapper")}return e.prototype.tearDown=function(){this.experienceContainer.removeEventListener("message",this.messageHandler)},e.prototype.handleAadGetToken=function(e,t){var n=this;this.serviceWrapper.getAadToken(e.payload.resource,e.payload.claim?e.payload.claim:void 0).then(function(t){return n.buildResponse(e,{token:t})}).then(t).catch(function(e){return n.logger.error("Failed to handle AAD token",e)})},e.prototype.handleAadGetCurrentUser=function(e,t){var n=this;this.serviceWrapper.getAuthUser().then(function(t){return n.buildResponse(e,{authUser:t})}).then(t).catch(function(e){return n.logger.error("Failed to handle AadGetCurrentUser",e)})},e.prototype.handleGetStateData=function(e,t){var n,r=this;switch(e.payload.requestType){case"skypeToken":n=this.serviceWrapper.getSkypeToken().then(function(e){return{skypeTokenData:e}});break;case"hostSettings":n=Promise.resolve({hostSettings:this.serviceWrapper.getHostSettings({})})}n.then(function(t){return r.buildResponse(e,t)}).then(t).catch(function(e){return r.logger.error("Failed to handle GetStateData",e)})},e.prototype.handleRequestShellToOpen=function(e,t){var n=this;if(e){var r=void 0,i=e.payload.openType,o=e.payload.openHandler,a=e.payload.handlerParams;if(i&&o)switch(i){case teamspace.services.OpenType.OpenOnMainRenderer:r=Promise.resolve({opened:this.serviceWrapper.navigateMainWindow(o,a)});break;case teamspace.services.OpenType.OpenInNewChildWindow:r=Promise.resolve({opened:this.serviceWrapper.openWindow(o,a)});break;case teamspace.services.OpenType.OpenInNewChildWindowFallBackToMain:r=new Promise(function(e){var t=n.serviceWrapper.openWindow(o,a);return e(t?{opened:t}:{opened:n.serviceWrapper.navigateMainWindow(o,a)})})}r.then(function(t){return n.buildResponse(e,t)}).then(t).catch(function(e){return n.logger.error("Failed to handle RequestShellToOpen",e)})}},e.prototype.handleScreenSharingControlMessage=function(e){e&&e.payload&&this.serviceWrapper.sendScreenSharingControlMessage(e.payload)},e.prototype.handleUpdateWindowState=function(e){if(e&&e.payload&&e.payload.childSettings&&e.payload.childSettings.appState){var t=e.payload.childSettings.appState;t!==o.Interactive&&t!==o.InCall||this.serviceWrapper.emitMessage("IdleEnd")}},e.prototype.handleWindowErrored=function(e){var t=this,n=e.payload||{},r=n.errorMsg;if(n.showOops){var i=n.logs&&Array.isArray(n.logs)&&n.logs.length>0,o=i?"\nLogs emitted for a child window error:\n":"";this.logger.warn("Child window has hit an unrecovered errored state: errorMsg="+r+", errorCode="+n.errorCode+"."+o),n.errorStack&&this.logger.warn("Error Stack: "+n.errorStack),i&&n.logs.forEach(function(e){t.logger.warn(e.timeStamp+" "+e.levelName+" - "+e.message)})}},e.prototype.buildResponse=function(e,t){return r({},e,{payload:t||{}})},e}();t.ShellCommWrapper=a},2254:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(33),u=n(2255),c=n(2256);!function(e){e.IGNORED="retry_ignored",e.CANCELED="retry_canceled",e.FAILED="retry_failed"}(o=t.RETRY_FAILURES||(t.RETRY_FAILURES={}));var s=function(){function e(e,t,n,r,i){var o=this;this.constants=e,this.loggingService=t,this.appStateService=n,this.eventingService=r,this.retries=0,this.lastRetriedTimestamp=0,this.isRetrying=!1,this._retryState=a.RetryState.NotRetried,this.retryStrategy=null,this.logger=null,this.resetInternal=function(){o.logger.info("Resetting the retry manager counters on tear down."),o.lastRetriedTimestamp=0,o.resetRetries(),o._retryState=a.RetryState.NotRetried},this.resetRetries=function(){o.logger.info("Resetting the retry count to 0."),o.retries=0},this.logger=t.newLogger("MW::ExperienceContainerRetryManager");var s=i.valueFor(e.settings.names.experienceContainerRetryConfig);if(i.valueAsBoolean(e.settings.names.enableMultiWindowContainerRetry)){this.logger.info('Using "getLinearNetworkErrorRetry" strategy');var f=s&&s.strategies&&s.strategies.linearNetworkErrorRetry;this.retryStrategy=c.getLinearNetworkErrorRetry(f)}var l=s&&s.strategies&&s.strategies.defaultRetryStrategy;this.retryStrategy=this.retryStrategy||c.getDefaultRetryStrategy(l),this.resetRetriesOnce=u.once(this.resetRetries)}return e.prototype.shouldRetry=function(e){return r(this,void 0,void 0,function(){var t,n,r,u,c,s,f,l;return i(this,function(i){switch(i.label){case 0:if(t=Date.now()-this.lastRetriedTimestamp,n=this.loggingService.newScenario(this.constants.experienceContainers.scenarios.retry),this.logger.info("New retry request. Reason: "+e.reason),this.isRetrying&&"nudge"===e.reason)return n.stop({reason:e.reason}),this.logger.info("Retrying due to a nudge request."),this.updateRetryCounters(),this.resetRetries(),this._retryState=a.RetryState.RetryTriggered,[2];if(this.isRetrying)throw n.stop({reason:o.IGNORED}),this.logger.info("Retry was ignored"),o.IGNORED;this.isRetrying=!0,r=0,u=this.retryStrategy.conditions,i.label=1;case 1:return r<u.length?(c=u[r],this._retryState="shouldRetryOnNetworkError"===c.name?a.RetryState.WaitingForNetwork:a.RetryState.WaitingForCondition,[4,c({event:e,timeElapsed:t,resetRetriesOnce:this.resetRetriesOnce,appStateService:this.appStateService,logger:this.logger,eventingService:this.eventingService,constants:this.constants,timeoutBetweenRetries:this.retryStrategy.timeoutBetweenRetries,recreateTimeout:this.retryStrategy.recreateTimeout,scenario:n,maxRecreateAttempts:this.retryStrategy.maxRecreateAttempts,retries:this.retries})]):[3,4];case 2:if(s=i.sent(),f=s.shouldRetry,l=s.resetRetryCountAfterRetry,f&&!this.isRetrying)throw n.stop({reason:o.CANCELED}),this.logger.info("Retry was canceled"),o.CANCELED;if(f&&this.isRetrying)return n.stop({reason:c.name}),this.logger.info("Retry succeeded. Retry condition: "+c.name),this.updateRetryCounters(),l&&this.resetRetries(),this._retryState=a.RetryState.RetryTriggered,[2];i.label=3;case 3:return r++,[3,1];case 4:throw n.fail({reason:o.FAILED}),this.isRetrying=!1,this.logger.error("Maximum retries hit. Not attempting to recreate the experience container."),this._retryState=a.RetryState.RetryFailed,o.FAILED}})})},e.prototype.reset=function(){this.resetInternal(),this.resetRetriesOnce=u.once(this.resetRetries)},Object.defineProperty(e.prototype,"recreateAttempts",{get:function(){return this.retries},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryState",{get:function(){return this._retryState},enumerable:!0,configurable:!0}),e.prototype.updateRetryCounters=function(){this.lastRetriedTimestamp=Date.now(),this.retries++,this.isRetrying=!1},e}();t.ExperienceContainerRetryManager=s},2255:function(e,t,n){(function(e,r){var i;(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function u(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function c(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function s(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function f(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function p(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function h(e,t){return!!(null==e?0:e.length)&&S(e,t,0)>-1}function d(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function v(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function g(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function y(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function m(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function _(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w(e){return e.split("")}function C(e){return e.match(Nt)||[]}function b(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function x(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function S(e,t,n){return t===t?Y(e,t,n):x(e,E,n)}function R(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function E(e){return e!==e}function A(e,t){var n=null==e?0:e.length;return n?j(e,t)/n:ze}function O(e){return function(t){return null==t?ie:t[e]}}function I(e){return function(t){return null==e?ie:e[t]}}function k(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function W(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function j(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ie&&(n=n===ie?o:n+o)}return n}function T(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function L(e,t){return v(t,function(t){return[t,e[t]]})}function z(e){return function(t){return e(t)}}function M(e,t){return v(t,function(t){return e[t]})}function D(e,t){return e.has(t)}function F(e,t){for(var n=-1,r=e.length;++n<r&&S(t,e[n],0)>-1;);return n}function P(e,t){for(var n=e.length;n--&&S(t,e[n],0)>-1;);return n}function N(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function U(e){return"\\"+An[e]}function q(e,t){return null==e?ie:e[t]}function $(e){return mn.test(e)}function B(e){return _n.test(e)}function V(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function G(e,t){return function(n){return e(t(n))}}function Z(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==fe||(e[n]=fe,o[i++]=n)}return o}function J(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Y(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Q(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function X(e){return $(e)?te(e):Bn(e)}function ee(e){return $(e)?ne(e):w(e)}function te(e){for(var t=gn.lastIndex=0;gn.test(e);)++t;return t}function ne(e){return e.match(gn)||[]}function re(e){return e.match(yn)||[]}var ie,oe=200,ae="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ue="Expected a function",ce="__lodash_hash_undefined__",se=500,fe="__lodash_placeholder__",le=1,pe=2,he=4,de=1,ve=2,ge=1,ye=2,me=4,_e=8,we=16,Ce=32,be=64,xe=128,Se=256,Re=512,Ee=30,Ae="...",Oe=800,Ie=16,ke=1,We=2,je=1/0,Te=9007199254740991,Le=1.7976931348623157e308,ze=NaN,Me=4294967295,De=Me-1,Fe=Me>>>1,Pe=[["ary",xe],["bind",ge],["bindKey",ye],["curry",_e],["curryRight",we],["flip",Re],["partial",Ce],["partialRight",be],["rearg",Se]],Ne="[object Arguments]",Ue="[object Array]",qe="[object AsyncFunction]",$e="[object Boolean]",Be="[object Date]",Ve="[object DOMException]",He="[object Error]",Ge="[object Function]",Ze="[object GeneratorFunction]",Je="[object Map]",Ke="[object Number]",Ye="[object Null]",Qe="[object Object]",Xe="[object Proxy]",et="[object RegExp]",tt="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",ct="[object DataView]",st="[object Float32Array]",ft="[object Float64Array]",lt="[object Int8Array]",pt="[object Int16Array]",ht="[object Int32Array]",dt="[object Uint8Array]",vt="[object Uint8ClampedArray]",gt="[object Uint16Array]",yt="[object Uint32Array]",mt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ct=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,xt=RegExp(Ct.source),St=RegExp(bt.source),Rt=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,kt=/^\./,Wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,Tt=RegExp(jt.source),Lt=/^\s+|\s+$/g,zt=/^\s+/,Mt=/\s+$/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ft=/\{\n\/\* \[wrapped with (.+)\] \*/,Pt=/,? & /,Nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Ht=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",en="["+Xt+"]",tn="["+Qt+"]",nn="[a-z\\xdf-\\xf6\\xf8-\\xff]",rn="[^\\ud800-\\udfff"+Xt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",on="\\ud83c[\\udffb-\\udfff]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",un="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",sn="(?:"+nn+"|"+rn+")",fn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ln="[\\ufe0e\\ufe0f]?"+fn+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",an,un].join("|")+")[\\ufe0e\\ufe0f]?"+fn+")*"),pn="(?:"+["[\\u2700-\\u27bf]",an,un].join("|")+")"+ln,hn="(?:"+["[^\\ud800-\\udfff]"+tn+"?",tn,an,un,"[\\ud800-\\udfff]"].join("|")+")",dn=RegExp("['’]","g"),vn=RegExp(tn,"g"),gn=RegExp(on+"(?="+on+")|"+hn+ln,"g"),yn=RegExp([cn+"?"+nn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[en,cn,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[en,cn+sn,"$"].join("|")+")",cn+"?"+sn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",cn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",pn].join("|"),"g"),mn=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),_n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cn=-1,bn={};bn[st]=bn[ft]=bn[lt]=bn[pt]=bn[ht]=bn[dt]=bn[vt]=bn[gt]=bn[yt]=!0,bn[Ne]=bn[Ue]=bn[ut]=bn[$e]=bn[ct]=bn[Be]=bn[He]=bn[Ge]=bn[Je]=bn[Ke]=bn[Qe]=bn[et]=bn[tt]=bn[nt]=bn[ot]=!1;var xn={};xn[Ne]=xn[Ue]=xn[ut]=xn[ct]=xn[$e]=xn[Be]=xn[st]=xn[ft]=xn[lt]=xn[pt]=xn[ht]=xn[Je]=xn[Ke]=xn[Qe]=xn[et]=xn[tt]=xn[nt]=xn[rt]=xn[dt]=xn[vt]=xn[gt]=xn[yt]=!0,xn[He]=xn[Ge]=xn[ot]=!1;var Sn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Rn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},An={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},On=parseFloat,In=parseInt,kn="object"==typeof e&&e&&e.Object===Object&&e,Wn="object"==typeof self&&self&&self.Object===Object&&self,jn=kn||Wn||Function("return this")(),Tn="object"==typeof t&&t&&!t.nodeType&&t,Ln=Tn&&"object"==typeof r&&r&&!r.nodeType&&r,zn=Ln&&Ln.exports===Tn,Mn=zn&&kn.process,Dn=function(){try{return Mn&&Mn.binding&&Mn.binding("util")}catch(e){}}(),Fn=Dn&&Dn.isArrayBuffer,Pn=Dn&&Dn.isDate,Nn=Dn&&Dn.isMap,Un=Dn&&Dn.isRegExp,qn=Dn&&Dn.isSet,$n=Dn&&Dn.isTypedArray,Bn=O("length"),Vn=I(Sn),Hn=I(Rn),Gn=I(En),Zn=function e(t){function n(e){if(ta(e)&&!Bc(e)&&!(e instanceof w)){if(e instanceof i)return e;if(Ba.call(e,"__wrapped__"))return Ro(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ie}function w(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function I(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new te;++t<n;)this.add(e[t])}function Nt(e){var t=this.__data__=new Y(e);this.size=t.size}function Qt(e,t){var n=Bc(e),r=!n&&$c(e),i=!n&&!r&&Hc(e),o=!n&&!r&&!i&&Yc(e),a=n||r||i||o,u=a?T(e.length,Da):[],c=u.length;for(var s in e)!t&&!Ba.call(e,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ro(s,c))||u.push(s);return u}function Xt(e){var t=e.length;return t?e[br(0,t-1)]:ie}function en(e,t){return Co(ai(e),ln(t,0,e.length))}function tn(e){return Co(ai(e))}function nn(e,t,n){(n===ie||Go(e[t],n))&&(n!==ie||t in e)||sn(e,t,n)}function rn(e,t,n){var r=e[t];Ba.call(e,t)&&Go(r,n)&&(n!==ie||t in e)||sn(e,t,n)}function on(e,t){for(var n=e.length;n--;)if(Go(e[n][0],t))return n;return-1}function an(e,t,n,r){return qu(e,function(e,i,o){t(r,e,n(e),o)}),r}function un(e,t){return e&&ui(t,va(t),e)}function cn(e,t){return e&&ui(t,ga(t),e)}function sn(e,t,n){"__proto__"==t&&cu?cu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function fn(e,t){for(var n=-1,r=t.length,i=ka(r),o=null==e;++n<r;)i[n]=o?ie:ha(e,t[n]);return i}function ln(e,t,n){return e===e&&(n!==ie&&(e=e<=n?e:n),t!==ie&&(e=e>=t?e:t)),e}function pn(e,t,n,r,i,o){var a,u=t&le,c=t&pe,f=t&he;if(n&&(a=i?n(e,r,i,o):n(e)),a!==ie)return a;if(!ea(e))return e;var l=Bc(e);if(l){if(a=Qi(e),!u)return ai(e,a)}else{var p=ec(e),h=p==Ge||p==Ze;if(Hc(e))return Zr(e,u);if(p==Qe||p==Ne||h&&!i){if(a=c||h?{}:Xi(e),!u)return c?si(e,cn(a,e)):ci(e,un(a,e))}else{if(!xn[p])return i?e:{};a=eo(e,p,pn,u)}}o||(o=new Nt);var d=o.get(e);if(d)return d;o.set(e,a);var v=f?c?Ui:Ni:c?ga:va,g=l?ie:v(e);return s(g||e,function(r,i){g&&(r=e[i=r]),rn(a,i,pn(r,t,n,i,e,o))}),a}function hn(e){var t=va(e);return function(n){return gn(n,e,t)}}function gn(e,t,n){var r=n.length;if(null==e)return!r;for(e=za(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===ie&&!(i in e)||!o(a))return!1}return!0}function yn(e,t,n){if("function"!=typeof e)throw new Fa(ue);return rc(function(){e.apply(ie,n)},t)}function mn(e,t,n,r){var i=-1,o=h,a=!0,u=e.length,c=[],s=t.length;if(!u)return c;n&&(t=v(t,z(n))),r?(o=d,a=!1):t.length>=oe&&(o=D,a=!1,t=new ne(t));e:for(;++i<u;){var f=e[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,a&&l===l){for(var p=s;p--;)if(t[p]===l)continue e;c.push(f)}else o(t,l,r)||c.push(f)}return c}function _n(e,t){var n=!0;return qu(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Sn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(u===ie?a===a&&!oa(a):n(a,u)))var u=a,c=o}return c}function Rn(e,t,n,r){var i=e.length;for((n=ca(n))<0&&(n=-n>i?0:i+n),(r=r===ie||r>i?i:ca(r))<0&&(r+=i),r=n>r?0:sa(r);n<r;)e[n++]=t;return e}function En(e,t){var n=[];return qu(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function An(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=no),i||(i=[]);++o<a;){var u=e[o];t>0&&n(u)?t>1?An(u,t-1,n,r,i):g(i,u):r||(i[i.length]=u)}return i}function kn(e,t){return e&&Bu(e,t,va)}function Wn(e,t){return e&&Vu(e,t,va)}function Tn(e,t){return p(t,function(t){return Yo(e[t])})}function Ln(e,t){for(var n=0,r=(t=Hr(t,e)).length;null!=e&&n<r;)e=e[bo(t[n++])];return n&&n==r?e:ie}function Mn(e,t,n){var r=t(e);return Bc(e)?r:g(r,n(e))}function Dn(e){return null==e?e===ie?it:Ye:uu&&uu in za(e)?Zi(e):vo(e)}function Bn(e,t){return e>t}function Jn(e,t){return null!=e&&Ba.call(e,t)}function Kn(e,t){return null!=e&&t in za(e)}function Yn(e,t,n){return e>=wu(t,n)&&e<_u(t,n)}function Qn(e,t,n){for(var r=n?d:h,i=e[0].length,o=e.length,a=o,u=ka(o),c=1/0,s=[];a--;){var f=e[a];a&&t&&(f=v(f,z(t))),c=wu(f.length,c),u[a]=!n&&(t||i>=120&&f.length>=120)?new ne(a&&f):ie}f=e[0];var l=-1,p=u[0];e:for(;++l<i&&s.length<c;){var g=f[l],y=t?t(g):g;if(g=n||0!==g?g:0,!(p?D(p,y):r(s,y,n))){for(a=o;--a;){var m=u[a];if(!(m?D(m,y):r(e[a],y,n)))continue e}p&&p.push(y),s.push(g)}}return s}function Xn(e,t,n,r){return kn(e,function(e,i,o){t(r,n(e),i,o)}),r}function er(e,t,n){var r=null==(e=yo(e,t=Hr(t,e)))?e:e[bo(ko(t))];return null==r?ie:u(r,e,n)}function tr(e){return ta(e)&&Dn(e)==Ne}function nr(e,t,n,r,i){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:rr(e,t,n,r,nr,i))}function rr(e,t,n,r,i,o){var a=Bc(e),u=Bc(t),c=a?Ue:ec(e),s=u?Ue:ec(t),f=(c=c==Ne?Qe:c)==Qe,l=(s=s==Ne?Qe:s)==Qe,p=c==s;if(p&&Hc(e)){if(!Hc(t))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new Nt),a||Yc(e)?Mi(e,t,n,r,i,o):Di(e,t,c,n,r,i,o);if(!(n&de)){var h=f&&Ba.call(e,"__wrapped__"),d=l&&Ba.call(t,"__wrapped__");if(h||d){var v=h?e.value():e,g=d?t.value():t;return o||(o=new Nt),i(v,g,n,r,o)}}return!!p&&(o||(o=new Nt),Fi(e,t,n,r,i,o))}function ir(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=za(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var c=(u=n[i])[0],s=e[c],f=u[1];if(a&&u[2]){if(s===ie&&!(c in e))return!1}else{var l=new Nt;if(r)var p=r(s,f,c,e,t,l);if(!(p===ie?nr(f,s,de|ve,r,l):p))return!1}}return!0}function or(e){return!(!ea(e)||co(e))&&(Yo(e)?Ka:Ht).test(xo(e))}function ar(e){return"function"==typeof e?e:null==e?xa:"object"==typeof e?Bc(e)?pr(e[0],e[1]):lr(e):Aa(e)}function ur(e){if(!so(e))return mu(e);var t=[];for(var n in za(e))Ba.call(e,n)&&"constructor"!=n&&t.push(n);return t}function cr(e){if(!ea(e))return ho(e);var t=so(e),n=[];for(var r in e)("constructor"!=r||!t&&Ba.call(e,r))&&n.push(r);return n}function sr(e,t){return e<t}function fr(e,t){var n=-1,r=Zo(e)?ka(e.length):[];return qu(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function lr(e){var t=Hi(e);return 1==t.length&&t[0][2]?lo(t[0][0],t[0][1]):function(n){return n===e||ir(n,e,t)}}function pr(e,t){return oo(e)&&fo(t)?lo(bo(e),t):function(n){var r=ha(n,e);return r===ie&&r===t?da(n,e):nr(t,r,de|ve)}}function hr(e,t,n,r,i){e!==t&&Bu(t,function(o,a){if(ea(o))i||(i=new Nt),dr(e,t,a,n,hr,r,i);else{var u=r?r(e[a],o,a+"",e,t,i):ie;u===ie&&(u=o),nn(e,a,u)}},ga)}function dr(e,t,n,r,i,o,a){var u=e[n],c=t[n],s=a.get(c);if(s)nn(e,n,s);else{var f=o?o(u,c,n+"",e,t,a):ie,l=f===ie;if(l){var p=Bc(c),h=!p&&Hc(c),d=!p&&!h&&Yc(c);f=c,p||h||d?Bc(u)?f=u:Jo(u)?f=ai(u):h?(l=!1,f=Zr(c,!0)):d?(l=!1,f=ti(c,!0)):f=[]:ra(c)||$c(c)?(f=u,$c(u)?f=la(u):(!ea(u)||r&&Yo(u))&&(f=Xi(c))):l=!1}l&&(a.set(c,f),i(f,c,r,o,a),a.delete(c)),nn(e,n,f)}}function vr(e,t){var n=e.length;if(n)return t+=t<0?n:0,ro(t,n)?e[t]:ie}function gr(e,t,n){var r=-1;return t=v(t.length?t:[xa],z(Bi())),W(fr(e,function(e,n,i){return{criteria:v(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return ri(e,t,n)})}function yr(e,t){return mr(e,t,function(t,n){return da(e,n)})}function mr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],u=Ln(e,a);n(u,a)&&Or(o,Hr(a,e),u)}return o}function _r(e){return function(t){return Ln(t,e)}}function wr(e,t,n,r){var i=r?R:S,o=-1,a=t.length,u=e;for(e===t&&(t=ai(t)),n&&(u=v(e,z(n)));++o<a;)for(var c=0,s=t[o],f=n?n(s):s;(c=i(u,f,c,r))>-1;)u!==e&&iu.call(u,c,1),iu.call(e,c,1);return e}function Cr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ro(i)?iu.call(e,i,1):Fr(e,i)}}return e}function br(e,t){return e+hu(xu()*(t-e+1))}function xr(e,t,n,r){for(var i=-1,o=_u(pu((t-e)/(n||1)),0),a=ka(o);o--;)a[r?o:++i]=e,e+=n;return a}function Sr(e,t){var n="";if(!e||t<1||t>Te)return n;do{t%2&&(n+=e),(t=hu(t/2))&&(e+=e)}while(t);return n}function Rr(e,t){return ic(go(e,t,xa),e+"")}function Er(e){return Xt(ma(e))}function Ar(e,t){var n=ma(e);return Co(n,ln(t,0,n.length))}function Or(e,t,n,r){if(!ea(e))return e;for(var i=-1,o=(t=Hr(t,e)).length,a=o-1,u=e;null!=u&&++i<o;){var c=bo(t[i]),s=n;if(i!=a){var f=u[c];(s=r?r(f,c,u):ie)===ie&&(s=ea(f)?f:ro(t[i+1])?[]:{})}rn(u,c,s),u=u[c]}return e}function Ir(e){return Co(ma(e))}function kr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=ka(i);++r<i;)o[r]=e[r+t];return o}function Wr(e,t){var n;return qu(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function jr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Fe){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!oa(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Tr(e,t,xa,n)}function Tr(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,u=null===t,c=oa(t),s=t===ie;i<o;){var f=hu((i+o)/2),l=n(e[f]),p=l!==ie,h=null===l,d=l===l,v=oa(l);if(a)var g=r||d;else g=s?d&&(r||p):u?d&&p&&(r||!h):c?d&&p&&!h&&(r||!v):!h&&!v&&(r?l<=t:l<t);g?i=f+1:o=f}return wu(o,De)}function Lr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Go(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function zr(e){return"number"==typeof e?e:oa(e)?ze:+e}function Mr(e){if("string"==typeof e)return e;if(Bc(e))return v(e,Mr)+"";if(oa(e))return Nu?Nu.call(e):"";var t=e+"";return"0"==t&&1/e==-je?"-0":t}function Dr(e,t,n){var r=-1,i=h,o=e.length,a=!0,u=[],c=u;if(n)a=!1,i=d;else if(o>=oe){var s=t?null:Ku(e);if(s)return J(s);a=!1,i=D,c=new ne}else c=t?[]:u;e:for(;++r<o;){var f=e[r],l=t?t(f):f;if(f=n||0!==f?f:0,a&&l===l){for(var p=c.length;p--;)if(c[p]===l)continue e;t&&c.push(l),u.push(f)}else i(c,l,n)||(c!==u&&c.push(l),u.push(f))}return u}function Fr(e,t){return t=Hr(t,e),null==(e=yo(e,t))||delete e[bo(ko(t))]}function Pr(e,t,n,r){return Or(e,t,n(Ln(e,t)),r)}function Nr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?kr(e,r?0:o,r?o+1:i):kr(e,r?o+1:0,r?i:o)}function Ur(e,t){var n=e;return n instanceof w&&(n=n.value()),y(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function qr(e,t,n){var r=e.length;if(r<2)return r?Dr(e[0]):[];for(var i=-1,o=ka(r);++i<r;)for(var a=e[i],u=-1;++u<r;)u!=i&&(o[i]=mn(o[i]||a,e[u],t,n));return Dr(An(o,1),t,n)}function $r(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var u=r<o?t[r]:ie;n(a,e[r],u)}return a}function Br(e){return Jo(e)?e:[]}function Vr(e){return"function"==typeof e?e:xa}function Hr(e,t){return Bc(e)?e:oo(e,t)?[e]:oc(pa(e))}function Gr(e,t,n){var r=e.length;return n=n===ie?r:n,!t&&n>=r?e:kr(e,t,n)}function Zr(e,t){if(t)return e.slice();var n=e.length,r=eu?eu(n):new e.constructor(n);return e.copy(r),r}function Jr(e){var t=new e.constructor(e.byteLength);return new Xa(t).set(new Xa(e)),t}function Kr(e,t){var n=t?Jr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Yr(e,t,n){return y(t?n(H(e),le):H(e),o,new e.constructor)}function Qr(e){var t=new e.constructor(e.source,$t.exec(e));return t.lastIndex=e.lastIndex,t}function Xr(e,t,n){return y(t?n(J(e),le):J(e),a,new e.constructor)}function ei(e){return Pu?za(Pu.call(e)):{}}function ti(e,t){var n=t?Jr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ni(e,t){if(e!==t){var n=e!==ie,r=null===e,i=e===e,o=oa(e),a=t!==ie,u=null===t,c=t===t,s=oa(t);if(!u&&!s&&!o&&e>t||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&e<t||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0}function ri(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;++r<a;){var c=ni(i[r],o[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}function ii(e,t,n,r){for(var i=-1,o=e.length,a=n.length,u=-1,c=t.length,s=_u(o-a,0),f=ka(c+s),l=!r;++u<c;)f[u]=t[u];for(;++i<a;)(l||i<o)&&(f[n[i]]=e[i]);for(;s--;)f[u++]=e[i++];return f}function oi(e,t,n,r){for(var i=-1,o=e.length,a=-1,u=n.length,c=-1,s=t.length,f=_u(o-u,0),l=ka(f+s),p=!r;++i<f;)l[i]=e[i];for(var h=i;++c<s;)l[h+c]=t[c];for(;++a<u;)(p||i<o)&&(l[h+n[a]]=e[i++]);return l}function ai(e,t){var n=-1,r=e.length;for(t||(t=ka(r));++n<r;)t[n]=e[n];return t}function ui(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var u=t[o],c=r?r(n[u],e[u],u,n,e):ie;c===ie&&(c=e[u]),i?sn(n,u,c):rn(n,u,c)}return n}function ci(e,t){return ui(e,Qu(e),t)}function si(e,t){return ui(e,Xu(e),t)}function fi(e,t){return function(n,r){var i=Bc(n)?c:an,o=t?t():{};return i(n,e,Bi(r,2),o)}}function li(e){return Rr(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:ie,a=i>2?n[2]:ie;for(o=e.length>3&&"function"==typeof o?(i--,o):ie,a&&io(n[0],n[1],a)&&(o=i<3?ie:o,i=1),t=za(t);++r<i;){var u=n[r];u&&e(t,u,r,o)}return t})}function pi(e,t){return function(n,r){if(null==n)return n;if(!Zo(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=za(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function hi(e){return function(t,n,r){for(var i=-1,o=za(t),a=r(t),u=a.length;u--;){var c=a[e?u:++i];if(!1===n(o[c],c,o))break}return t}}function di(e,t,n){function r(){return(this&&this!==jn&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&ge,o=yi(e);return r}function vi(e){return function(t){var n=$(t=pa(t))?ee(t):ie,r=n?n[0]:t.charAt(0),i=n?Gr(n,1).join(""):t.slice(1);return r[e]()+i}}function gi(e){return function(t){return y(Ca(wa(t).replace(dn,"")),e,"")}}function yi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Uu(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function mi(e,t,n){function r(){for(var o=arguments.length,a=ka(o),c=o,s=$i(r);c--;)a[c]=arguments[c];var f=o<3&&a[0]!==s&&a[o-1]!==s?[]:Z(a,s);return(o-=f.length)<n?Ii(e,t,Ci,r.placeholder,ie,a,f,ie,ie,n-o):u(this&&this!==jn&&this instanceof r?i:e,this,a)}var i=yi(e);return r}function _i(e){return function(t,n,r){var i=za(t);if(!Zo(t)){var o=Bi(n,3);t=va(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:ie}}function wi(e){return Pi(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Fa(ue);if(o&&!u&&"wrapper"==qi(a))var u=new i([],!0)}for(r=u?r:n;++r<n;){var c=qi(a=t[r]),s="wrapper"==c?Yu(a):ie;u=s&&uo(s[0])&&s[1]==(xe|_e|Ce|Se)&&!s[4].length&&1==s[9]?u[qi(s[0])].apply(u,s[3]):1==a.length&&uo(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Bc(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ci(e,t,n,r,i,o,a,u,c,s){function f(){for(var y=arguments.length,m=ka(y),_=y;_--;)m[_]=arguments[_];if(d)var w=$i(f),C=N(m,w);if(r&&(m=ii(m,r,i,d)),o&&(m=oi(m,o,a,d)),y-=C,d&&y<s){var b=Z(m,w);return Ii(e,t,Ci,f.placeholder,n,m,b,u,c,s-y)}var x=p?n:this,S=h?x[e]:e;return y=m.length,u?m=mo(m,u):v&&y>1&&m.reverse(),l&&c<y&&(m.length=c),this&&this!==jn&&this instanceof f&&(S=g||yi(S)),S.apply(x,m)}var l=t&xe,p=t&ge,h=t&ye,d=t&(_e|we),v=t&Re,g=h?ie:yi(e);return f}function bi(e,t){return function(n,r){return Xn(n,e,t(r),{})}}function xi(e,t){return function(n,r){var i;if(n===ie&&r===ie)return t;if(n!==ie&&(i=n),r!==ie){if(i===ie)return r;"string"==typeof n||"string"==typeof r?(n=Mr(n),r=Mr(r)):(n=zr(n),r=zr(r)),i=e(n,r)}return i}}function Si(e){return Pi(function(t){return t=v(t,z(Bi())),Rr(function(n){var r=this;return e(t,function(e){return u(e,r,n)})})})}function Ri(e,t){var n=(t=t===ie?" ":Mr(t)).length;if(n<2)return n?Sr(t,e):t;var r=Sr(t,pu(e/X(t)));return $(t)?Gr(ee(r),0,e).join(""):r.slice(0,e)}function Ei(e,t,n,r){function i(){for(var t=-1,c=arguments.length,s=-1,f=r.length,l=ka(f+c),p=this&&this!==jn&&this instanceof i?a:e;++s<f;)l[s]=r[s];for(;c--;)l[s++]=arguments[++t];return u(p,o?n:this,l)}var o=t&ge,a=yi(e);return i}function Ai(e){return function(t,n,r){return r&&"number"!=typeof r&&io(t,n,r)&&(n=r=ie),t=ua(t),n===ie?(n=t,t=0):n=ua(n),r=r===ie?t<n?1:-1:ua(r),xr(t,n,r,e)}}function Oi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fa(t),n=fa(n)),e(t,n)}}function Ii(e,t,n,r,i,o,a,u,c,s){var f=t&_e,l=f?a:ie,p=f?ie:a,h=f?o:ie,d=f?ie:o;t|=f?Ce:be,(t&=~(f?be:Ce))&me||(t&=~(ge|ye));var v=[e,t,i,h,l,d,p,u,c,s],g=n.apply(ie,v);return uo(e)&&nc(g,v),g.placeholder=r,_o(g,e,t)}function ki(e){var t=La[e];return function(e,n){if(e=fa(e),n=null==n?0:wu(ca(n),292)){var r=(pa(e)+"e").split("e");return+((r=(pa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function Wi(e){return function(t){var n=ec(t);return n==Je?H(t):n==tt?K(t):L(t,e(t))}}function ji(e,t,n,r,i,o,a,u){var c=t&ye;if(!c&&"function"!=typeof e)throw new Fa(ue);var s=r?r.length:0;if(s||(t&=~(Ce|be),r=i=ie),a=a===ie?a:_u(ca(a),0),u=u===ie?u:ca(u),s-=i?i.length:0,t&be){var f=r,l=i;r=i=ie}var p=c?ie:Yu(e),h=[e,t,n,r,i,f,l,o,a,u];if(p&&po(h,p),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],!(u=h[9]=h[9]===ie?c?0:e.length:_u(h[9]-s,0))&&t&(_e|we)&&(t&=~(_e|we)),t&&t!=ge)d=t==_e||t==we?mi(e,t,u):t!=Ce&&t!=(ge|Ce)||i.length?Ci.apply(ie,h):Ei(e,t,n,r);else var d=di(e,t,n);return _o((p?Hu:nc)(d,h),e,t)}function Ti(e,t,n,r){return e===ie||Go(e,Ua[n])&&!Ba.call(r,n)?t:e}function Li(e,t,n,r,i,o){return ea(e)&&ea(t)&&(o.set(t,e),hr(e,t,ie,Li,o),o.delete(t)),e}function zi(e){return ra(e)?ie:e}function Mi(e,t,n,r,i,o){var a=n&de,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(e);if(s&&o.get(t))return s==t;var f=-1,l=!0,p=n&ve?new ne:ie;for(o.set(e,t),o.set(t,e);++f<u;){var h=e[f],d=t[f];if(r)var v=a?r(d,h,f,t,e,o):r(h,d,f,e,t,o);if(v!==ie){if(v)continue;l=!1;break}if(p){if(!_(t,function(e,t){if(!D(p,t)&&(h===e||i(h,e,n,r,o)))return p.push(t)})){l=!1;break}}else if(h!==d&&!i(h,d,n,r,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function Di(e,t,n,r,i,o,a){switch(n){case ct:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ut:return!(e.byteLength!=t.byteLength||!o(new Xa(e),new Xa(t)));case $e:case Be:case Ke:return Go(+e,+t);case He:return e.name==t.name&&e.message==t.message;case et:case nt:return e==t+"";case Je:var u=H;case tt:var c=r&de;if(u||(u=J),e.size!=t.size&&!c)return!1;var s=a.get(e);if(s)return s==t;r|=ve,a.set(e,t);var f=Mi(u(e),u(t),r,i,o,a);return a.delete(e),f;case rt:if(Pu)return Pu.call(e)==Pu.call(t)}return!1}function Fi(e,t,n,r,i,o){var a=n&de,u=Ni(e),c=u.length;if(c!=Ni(t).length&&!a)return!1;for(var s=c;s--;){var f=u[s];if(!(a?f in t:Ba.call(t,f)))return!1}var l=o.get(e);if(l&&o.get(t))return l==t;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++s<c;){var d=e[f=u[s]],v=t[f];if(r)var g=a?r(v,d,f,t,e,o):r(d,v,f,e,t,o);if(!(g===ie?d===v||i(d,v,n,r,o):g)){p=!1;break}h||(h="constructor"==f)}if(p&&!h){var y=e.constructor,m=t.constructor;y!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(p=!1)}return o.delete(e),o.delete(t),p}function Pi(e){return ic(go(e,ie,Oo),e+"")}function Ni(e){return Mn(e,va,Qu)}function Ui(e){return Mn(e,ga,Xu)}function qi(e){for(var t=e.name+"",n=ju[t],r=Ba.call(ju,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function $i(e){return(Ba.call(n,"placeholder")?n:e).placeholder}function Bi(){var e=n.iteratee||Sa;return e=e===Sa?ar:e,arguments.length?e(arguments[0],arguments[1]):e}function Vi(e,t){var n=e.__data__;return ao(t)?n["string"==typeof t?"string":"hash"]:n.map}function Hi(e){for(var t=va(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function Gi(e,t){var n=q(e,t);return or(n)?n:ie}function Zi(e){var t=Ba.call(e,uu),n=e[uu];try{e[uu]=ie;var r=!0}catch(e){}var i=Ga.call(e);return r&&(t?e[uu]=n:delete e[uu]),i}function Ji(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wu(t,e+a);break;case"takeRight":e=_u(e,t-a)}}return{start:e,end:t}}function Ki(e){var t=e.match(Ft);return t?t[1].split(Pt):[]}function Yi(e,t,n){for(var r=-1,i=(t=Hr(t,e)).length,o=!1;++r<i;){var a=bo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Xo(i)&&ro(a,i)&&(Bc(e)||$c(e))}function Qi(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Ba.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Xi(e){return"function"!=typeof e.constructor||so(e)?{}:Uu(tu(e))}function eo(e,t,n,r){var i=e.constructor;switch(t){case ut:return Jr(e);case $e:case Be:return new i(+e);case ct:return Kr(e,r);case st:case ft:case lt:case pt:case ht:case dt:case vt:case gt:case yt:return ti(e,r);case Je:return Yr(e,r,n);case Ke:case nt:return new i(e);case et:return Qr(e);case tt:return Xr(e,r,n);case rt:return ei(e)}}function to(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Dt,"{\n/* [wrapped with "+t+"] */\n")}function no(e){return Bc(e)||$c(e)||!!(ou&&e&&e[ou])}function ro(e,t){return!!(t=null==t?Te:t)&&("number"==typeof e||Zt.test(e))&&e>-1&&e%1==0&&e<t}function io(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Zo(n)&&ro(t,n.length):"string"==r&&t in n)&&Go(n[t],e)}function oo(e,t){if(Bc(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oa(e))||It.test(e)||!Ot.test(e)||null!=t&&e in za(t)}function ao(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function uo(e){var t=qi(e),r=n[t];if("function"!=typeof r||!(t in w.prototype))return!1;if(e===r)return!0;var i=Yu(r);return!!i&&e===i[0]}function co(e){return!!Ha&&Ha in e}function so(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ua)}function fo(e){return e===e&&!ea(e)}function lo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==ie||e in za(n))}}function po(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ge|ye|xe),a=r==xe&&n==_e||r==xe&&n==Se&&e[7].length<=t[8]||r==(xe|Se)&&t[7].length<=t[8]&&n==_e;if(!o&&!a)return e;r&ge&&(e[2]=t[2],i|=n&ge?0:me);var u=t[3];if(u){var c=e[3];e[3]=c?ii(c,u,t[4]):u,e[4]=c?Z(e[3],fe):t[4]}return(u=t[5])&&(c=e[5],e[5]=c?oi(c,u,t[6]):u,e[6]=c?Z(e[5],fe):t[6]),(u=t[7])&&(e[7]=u),r&xe&&(e[8]=null==e[8]?t[8]:wu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ho(e){var t=[];if(null!=e)for(var n in za(e))t.push(n);return t}function vo(e){return Ga.call(e)}function go(e,t,n){return t=_u(t===ie?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=_u(r.length-t,0),a=ka(o);++i<o;)a[i]=r[t+i];i=-1;for(var c=ka(t+1);++i<t;)c[i]=r[i];return c[t]=n(a),u(e,this,c)}}function yo(e,t){return t.length<2?e:Ln(e,kr(t,0,-1))}function mo(e,t){for(var n=e.length,r=wu(t.length,n),i=ai(e);r--;){var o=t[r];e[r]=ro(o,n)?i[o]:ie}return e}function _o(e,t,n){var r=t+"";return ic(e,to(r,So(Ki(r),n)))}function wo(e){var t=0,n=0;return function(){var r=Cu(),i=Ie-(r-n);if(n=r,i>0){if(++t>=Oe)return arguments[0]}else t=0;return e.apply(ie,arguments)}}function Co(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ie?r:t;++n<t;){var o=br(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function bo(e){if("string"==typeof e||oa(e))return e;var t=e+"";return"0"==t&&1/e==-je?"-0":t}function xo(e){if(null!=e){try{return $a.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function So(e,t){return s(Pe,function(n){var r="_."+n[0];t&n[1]&&!h(e,r)&&e.push(r)}),e.sort()}function Ro(e){if(e instanceof w)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Eo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ca(n);return i<0&&(i=_u(r+i,0)),x(e,Bi(t,3),i)}function Ao(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ie&&(i=ca(n),i=n<0?_u(r+i,0):wu(i,r-1)),x(e,Bi(t,3),i,!0)}function Oo(e){return(null==e?0:e.length)?An(e,1):[]}function Io(e){return e&&e.length?e[0]:ie}function ko(e){var t=null==e?0:e.length;return t?e[t-1]:ie}function Wo(e,t){return e&&e.length&&t&&t.length?wr(e,t):e}function jo(e){return null==e?e:Su.call(e)}function To(e){if(!e||!e.length)return[];var t=0;return e=p(e,function(e){if(Jo(e))return t=_u(e.length,t),!0}),T(t,function(t){return v(e,O(t))})}function Lo(e,t){if(!e||!e.length)return[];var n=To(e);return null==t?n:v(n,function(e){return u(t,ie,e)})}function zo(e){var t=n(e);return t.__chain__=!0,t}function Mo(e,t){return t(e)}function Do(e,t){return(Bc(e)?s:qu)(e,Bi(t,3))}function Fo(e,t){return(Bc(e)?f:$u)(e,Bi(t,3))}function Po(e,t){return(Bc(e)?v:fr)(e,Bi(t,3))}function No(e,t,n){return t=n?ie:t,t=e&&null==t?e.length:t,ji(e,xe,ie,ie,ie,ie,t)}function Uo(e,t){var n;if("function"!=typeof t)throw new Fa(ue);return e=ca(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ie),n}}function qo(e,t,n){var r=ji(e,_e,ie,ie,ie,ie,ie,t=n?ie:t);return r.placeholder=qo.placeholder,r}function $o(e,t,n){var r=ji(e,we,ie,ie,ie,ie,ie,t=n?ie:t);return r.placeholder=$o.placeholder,r}function Bo(e,t,n){function r(t){var n=f,r=l;return f=l=ie,g=t,h=e.apply(r,n)}function i(e){return g=e,d=rc(u,t),y?r(e):h}function o(e){var n=e-g,r=t-(e-v);return m?wu(r,p-n):r}function a(e){var n=e-v,r=e-g;return v===ie||n>=t||n<0||m&&r>=p}function u(){var e=jc();if(a(e))return c(e);d=rc(u,o(e))}function c(e){return d=ie,_&&f?r(e):(f=l=ie,h)}function s(){var e=jc(),n=a(e);if(f=arguments,l=this,v=e,n){if(d===ie)return i(v);if(m)return d=rc(u,t),r(v)}return d===ie&&(d=rc(u,t)),h}var f,l,p,h,d,v,g=0,y=!1,m=!1,_=!0;if("function"!=typeof e)throw new Fa(ue);return t=fa(t)||0,ea(n)&&(y=!!n.leading,p=(m="maxWait"in n)?_u(fa(n.maxWait)||0,t):p,_="trailing"in n?!!n.trailing:_),s.cancel=function(){d!==ie&&Ju(d),g=0,f=v=l=d=ie},s.flush=function(){return d===ie?h:c(jc())},s}function Vo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Fa(ue);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Vo.Cache||te),n}function Ho(e){if("function"!=typeof e)throw new Fa(ue);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Go(e,t){return e===t||e!==e&&t!==t}function Zo(e){return null!=e&&Xo(e.length)&&!Yo(e)}function Jo(e){return ta(e)&&Zo(e)}function Ko(e){if(!ta(e))return!1;var t=Dn(e);return t==He||t==Ve||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Yo(e){if(!ea(e))return!1;var t=Dn(e);return t==Ge||t==Ze||t==qe||t==Xe}function Qo(e){return"number"==typeof e&&e==ca(e)}function Xo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Te}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}function na(e){return"number"==typeof e||ta(e)&&Dn(e)==Ke}function ra(e){if(!ta(e)||Dn(e)!=Qe)return!1;var t=tu(e);if(null===t)return!0;var n=Ba.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$a.call(n)==Za}function ia(e){return"string"==typeof e||!Bc(e)&&ta(e)&&Dn(e)==nt}function oa(e){return"symbol"==typeof e||ta(e)&&Dn(e)==rt}function aa(e){if(!e)return[];if(Zo(e))return ia(e)?ee(e):ai(e);if(au&&e[au])return V(e[au]());var t=ec(e);return(t==Je?H:t==tt?J:ma)(e)}function ua(e){return e?(e=fa(e))===je||e===-je?(e<0?-1:1)*Le:e===e?e:0:0===e?e:0}function ca(e){var t=ua(e),n=t%1;return t===t?n?t-n:t:0}function sa(e){return e?ln(ca(e),0,Me):0}function fa(e){if("number"==typeof e)return e;if(oa(e))return ze;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Lt,"");var n=Vt.test(e);return n||Gt.test(e)?In(e.slice(2),n?2:8):Bt.test(e)?ze:+e}function la(e){return ui(e,ga(e))}function pa(e){return null==e?"":Mr(e)}function ha(e,t,n){var r=null==e?ie:Ln(e,t);return r===ie?n:r}function da(e,t){return null!=e&&Yi(e,t,Kn)}function va(e){return Zo(e)?Qt(e):ur(e)}function ga(e){return Zo(e)?Qt(e,!0):cr(e)}function ya(e,t){if(null==e)return{};var n=v(Ui(e),function(e){return[e]});return t=Bi(t),mr(e,n,function(e,n){return t(e,n[0])})}function ma(e){return null==e?[]:M(e,va(e))}function _a(e){return xs(pa(e).toLowerCase())}function wa(e){return(e=pa(e))&&e.replace(Jt,Vn).replace(vn,"")}function Ca(e,t,n){return e=pa(e),(t=n?ie:t)===ie?B(e)?re(e):C(e):e.match(t)||[]}function ba(e){return function(){return e}}function xa(e){return e}function Sa(e){return ar("function"==typeof e?e:pn(e,le))}function Ra(e,t,n){var r=va(t),i=Tn(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Tn(t,va(t)));var o=!(ea(n)&&"chain"in n&&!n.chain),a=Yo(e);return s(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ai(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,g([this.value()],arguments))})}),e}function Ea(){}function Aa(e){return oo(e)?O(bo(e)):_r(e)}function Oa(){return[]}function Ia(){return!1}var ka=(t=null==t?jn:Zn.defaults(jn.Object(),t,Zn.pick(jn,wn))).Array,Wa=t.Date,ja=t.Error,Ta=t.Function,La=t.Math,za=t.Object,Ma=t.RegExp,Da=t.String,Fa=t.TypeError,Pa=ka.prototype,Na=Ta.prototype,Ua=za.prototype,qa=t["__core-js_shared__"],$a=Na.toString,Ba=Ua.hasOwnProperty,Va=0,Ha=function(){var e=/[^.]+$/.exec(qa&&qa.keys&&qa.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ga=Ua.toString,Za=$a.call(za),Ja=jn._,Ka=Ma("^"+$a.call(Ba).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ya=zn?t.Buffer:ie,Qa=t.Symbol,Xa=t.Uint8Array,eu=Ya?Ya.allocUnsafe:ie,tu=G(za.getPrototypeOf,za),nu=za.create,ru=Ua.propertyIsEnumerable,iu=Pa.splice,ou=Qa?Qa.isConcatSpreadable:ie,au=Qa?Qa.iterator:ie,uu=Qa?Qa.toStringTag:ie,cu=function(){try{var e=Gi(za,"defineProperty");return e({},"",{}),e}catch(e){}}(),su=t.clearTimeout!==jn.clearTimeout&&t.clearTimeout,fu=Wa&&Wa.now!==jn.Date.now&&Wa.now,lu=t.setTimeout!==jn.setTimeout&&t.setTimeout,pu=La.ceil,hu=La.floor,du=za.getOwnPropertySymbols,vu=Ya?Ya.isBuffer:ie,gu=t.isFinite,yu=Pa.join,mu=G(za.keys,za),_u=La.max,wu=La.min,Cu=Wa.now,bu=t.parseInt,xu=La.random,Su=Pa.reverse,Ru=Gi(t,"DataView"),Eu=Gi(t,"Map"),Au=Gi(t,"Promise"),Ou=Gi(t,"Set"),Iu=Gi(t,"WeakMap"),ku=Gi(za,"create"),Wu=Iu&&new Iu,ju={},Tu=xo(Ru),Lu=xo(Eu),zu=xo(Au),Mu=xo(Ou),Du=xo(Iu),Fu=Qa?Qa.prototype:ie,Pu=Fu?Fu.valueOf:ie,Nu=Fu?Fu.toString:ie,Uu=function(){function e(){}return function(t){if(!ea(t))return{};if(nu)return nu(t);e.prototype=t;var n=new e;return e.prototype=ie,n}}();n.templateSettings={escape:Rt,evaluate:Et,interpolate:At,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=Uu(r.prototype),i.prototype.constructor=i,w.prototype=Uu(r.prototype),w.prototype.constructor=w,I.prototype.clear=function(){this.__data__=ku?ku(null):{},this.size=0},I.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},I.prototype.get=function(e){var t=this.__data__;if(ku){var n=t[e];return n===ce?ie:n}return Ba.call(t,e)?t[e]:ie},I.prototype.has=function(e){var t=this.__data__;return ku?t[e]!==ie:Ba.call(t,e)},I.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ku&&t===ie?ce:t,this},Y.prototype.clear=function(){this.__data__=[],this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=on(t,e);return!(n<0||(n==t.length-1?t.pop():iu.call(t,n,1),--this.size,0))},Y.prototype.get=function(e){var t=this.__data__,n=on(t,e);return n<0?ie:t[n][1]},Y.prototype.has=function(e){return on(this.__data__,e)>-1},Y.prototype.set=function(e,t){var n=this.__data__,r=on(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new I,map:new(Eu||Y),string:new I}},te.prototype.delete=function(e){var t=Vi(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return Vi(this,e).get(e)},te.prototype.has=function(e){return Vi(this,e).has(e)},te.prototype.set=function(e,t){var n=Vi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.add=ne.prototype.push=function(e){return this.__data__.set(e,ce),this},ne.prototype.has=function(e){return this.__data__.has(e)},Nt.prototype.clear=function(){this.__data__=new Y,this.size=0},Nt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Nt.prototype.get=function(e){return this.__data__.get(e)},Nt.prototype.has=function(e){return this.__data__.has(e)},Nt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Y){var r=n.__data__;if(!Eu||r.length<oe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var qu=pi(kn),$u=pi(Wn,!0),Bu=hi(),Vu=hi(!0),Hu=Wu?function(e,t){return Wu.set(e,t),e}:xa,Gu=cu?function(e,t){return cu(e,"toString",{configurable:!0,enumerable:!1,value:ba(t),writable:!0})}:xa,Zu=Rr,Ju=su||function(e){return jn.clearTimeout(e)},Ku=Ou&&1/J(new Ou([,-0]))[1]==je?function(e){return new Ou(e)}:Ea,Yu=Wu?function(e){return Wu.get(e)}:Ea,Qu=du?function(e){return null==e?[]:(e=za(e),p(du(e),function(t){return ru.call(e,t)}))}:Oa,Xu=du?function(e){for(var t=[];e;)g(t,Qu(e)),e=tu(e);return t}:Oa,ec=Dn;(Ru&&ec(new Ru(new ArrayBuffer(1)))!=ct||Eu&&ec(new Eu)!=Je||Au&&"[object Promise]"!=ec(Au.resolve())||Ou&&ec(new Ou)!=tt||Iu&&ec(new Iu)!=ot)&&(ec=function(e){var t=Dn(e),n=t==Qe?e.constructor:ie,r=n?xo(n):"";if(r)switch(r){case Tu:return ct;case Lu:return Je;case zu:return"[object Promise]";case Mu:return tt;case Du:return ot}return t});var tc=qa?Yo:Ia,nc=wo(Hu),rc=lu||function(e,t){return jn.setTimeout(e,t)},ic=wo(Gu),oc=function(e){var t=Vo(e,function(e){return n.size===se&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return kt.test(e)&&t.push(""),e.replace(Wt,function(e,n,r,i){t.push(r?i.replace(Ut,"$1"):n||e)}),t}),ac=Rr(function(e,t){return Jo(e)?mn(e,An(t,1,Jo,!0)):[]}),uc=Rr(function(e,t){var n=ko(t);return Jo(n)&&(n=ie),Jo(e)?mn(e,An(t,1,Jo,!0),Bi(n,2)):[]}),cc=Rr(function(e,t){var n=ko(t);return Jo(n)&&(n=ie),Jo(e)?mn(e,An(t,1,Jo,!0),ie,n):[]}),sc=Rr(function(e){var t=v(e,Br);return t.length&&t[0]===e[0]?Qn(t):[]}),fc=Rr(function(e){var t=ko(e),n=v(e,Br);return t===ko(n)?t=ie:n.pop(),n.length&&n[0]===e[0]?Qn(n,Bi(t,2)):[]}),lc=Rr(function(e){var t=ko(e),n=v(e,Br);return(t="function"==typeof t?t:ie)&&n.pop(),n.length&&n[0]===e[0]?Qn(n,ie,t):[]}),pc=Rr(Wo),hc=Pi(function(e,t){var n=null==e?0:e.length,r=fn(e,t);return Cr(e,v(t,function(e){return ro(e,n)?+e:e}).sort(ni)),r}),dc=Rr(function(e){return Dr(An(e,1,Jo,!0))}),vc=Rr(function(e){var t=ko(e);return Jo(t)&&(t=ie),Dr(An(e,1,Jo,!0),Bi(t,2))}),gc=Rr(function(e){var t=ko(e);return t="function"==typeof t?t:ie,Dr(An(e,1,Jo,!0),ie,t)}),yc=Rr(function(e,t){return Jo(e)?mn(e,t):[]}),mc=Rr(function(e){return qr(p(e,Jo))}),_c=Rr(function(e){var t=ko(e);return Jo(t)&&(t=ie),qr(p(e,Jo),Bi(t,2))}),wc=Rr(function(e){var t=ko(e);return t="function"==typeof t?t:ie,qr(p(e,Jo),ie,t)}),Cc=Rr(To),bc=Rr(function(e){var t=e.length,n=t>1?e[t-1]:ie;return n="function"==typeof n?(e.pop(),n):ie,Lo(e,n)}),xc=Pi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return fn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof w&&ro(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Mo,args:[o],thisArg:ie}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ie),e})):this.thru(o)}),Sc=fi(function(e,t,n){Ba.call(e,n)?++e[n]:sn(e,n,1)}),Rc=_i(Eo),Ec=_i(Ao),Ac=fi(function(e,t,n){Ba.call(e,n)?e[n].push(t):sn(e,n,[t])}),Oc=Rr(function(e,t,n){var r=-1,i="function"==typeof t,o=Zo(e)?ka(e.length):[];return qu(e,function(e){o[++r]=i?u(t,e,n):er(e,t,n)}),o}),Ic=fi(function(e,t,n){sn(e,n,t)}),kc=fi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Wc=Rr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&io(e,t[0],t[1])?t=[]:n>2&&io(t[0],t[1],t[2])&&(t=[t[0]]),gr(e,An(t,1),[])}),jc=fu||function(){return jn.Date.now()},Tc=Rr(function(e,t,n){var r=ge;if(n.length){var i=Z(n,$i(Tc));r|=Ce}return ji(e,r,t,n,i)}),Lc=Rr(function(e,t,n){var r=ge|ye;if(n.length){var i=Z(n,$i(Lc));r|=Ce}return ji(t,r,e,n,i)}),zc=Rr(function(e,t){return yn(e,1,t)}),Mc=Rr(function(e,t,n){return yn(e,fa(t)||0,n)});Vo.Cache=te;var Dc=Zu(function(e,t){var n=(t=1==t.length&&Bc(t[0])?v(t[0],z(Bi())):v(An(t,1),z(Bi()))).length;return Rr(function(r){for(var i=-1,o=wu(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return u(e,this,r)})}),Fc=Rr(function(e,t){var n=Z(t,$i(Fc));return ji(e,Ce,ie,t,n)}),Pc=Rr(function(e,t){var n=Z(t,$i(Pc));return ji(e,be,ie,t,n)}),Nc=Pi(function(e,t){return ji(e,Se,ie,ie,ie,t)}),Uc=Oi(Bn),qc=Oi(function(e,t){return e>=t}),$c=tr(function(){return arguments}())?tr:function(e){return ta(e)&&Ba.call(e,"callee")&&!ru.call(e,"callee")},Bc=ka.isArray,Vc=Fn?z(Fn):function(e){return ta(e)&&Dn(e)==ut},Hc=vu||Ia,Gc=Pn?z(Pn):function(e){return ta(e)&&Dn(e)==Be},Zc=Nn?z(Nn):function(e){return ta(e)&&ec(e)==Je},Jc=Un?z(Un):function(e){return ta(e)&&Dn(e)==et},Kc=qn?z(qn):function(e){return ta(e)&&ec(e)==tt},Yc=$n?z($n):function(e){return ta(e)&&Xo(e.length)&&!!bn[Dn(e)]},Qc=Oi(sr),Xc=Oi(function(e,t){return e<=t}),es=li(function(e,t){if(so(t)||Zo(t))ui(t,va(t),e);else for(var n in t)Ba.call(t,n)&&rn(e,n,t[n])}),ts=li(function(e,t){ui(t,ga(t),e)}),ns=li(function(e,t,n,r){ui(t,ga(t),e,r)}),rs=li(function(e,t,n,r){ui(t,va(t),e,r)}),is=Pi(fn),os=Rr(function(e){return e.push(ie,Ti),u(ns,ie,e)}),as=Rr(function(e){return e.push(ie,Li),u(ls,ie,e)}),us=bi(function(e,t,n){e[t]=n},ba(xa)),cs=bi(function(e,t,n){Ba.call(e,t)?e[t].push(n):e[t]=[n]},Bi),ss=Rr(er),fs=li(function(e,t,n){hr(e,t,n)}),ls=li(function(e,t,n,r){hr(e,t,n,r)}),ps=Pi(function(e,t){var n={};if(null==e)return n;var r=!1;t=v(t,function(t){return t=Hr(t,e),r||(r=t.length>1),t}),ui(e,Ui(e),n),r&&(n=pn(n,le|pe|he,zi));for(var i=t.length;i--;)Fr(n,t[i]);return n}),hs=Pi(function(e,t){return null==e?{}:yr(e,t)}),ds=Wi(va),vs=Wi(ga),gs=gi(function(e,t,n){return t=t.toLowerCase(),e+(n?_a(t):t)}),ys=gi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ms=gi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),_s=vi("toLowerCase"),ws=gi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Cs=gi(function(e,t,n){return e+(n?" ":"")+xs(t)}),bs=gi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),xs=vi("toUpperCase"),Ss=Rr(function(e,t){try{return u(e,ie,t)}catch(e){return Ko(e)?e:new ja(e)}}),Rs=Pi(function(e,t){return s(t,function(t){t=bo(t),sn(e,t,Tc(e[t],e))}),e}),Es=wi(),As=wi(!0),Os=Rr(function(e,t){return function(n){return er(n,e,t)}}),Is=Rr(function(e,t){return function(n){return er(e,n,t)}}),ks=Si(v),Ws=Si(l),js=Si(_),Ts=Ai(),Ls=Ai(!0),zs=xi(function(e,t){return e+t},0),Ms=ki("ceil"),Ds=xi(function(e,t){return e/t},1),Fs=ki("floor"),Ps=xi(function(e,t){return e*t},1),Ns=ki("round"),Us=xi(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new Fa(ue);return e=ca(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=No,n.assign=es,n.assignIn=ts,n.assignInWith=ns,n.assignWith=rs,n.at=is,n.before=Uo,n.bind=Tc,n.bindAll=Rs,n.bindKey=Lc,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Bc(e)?e:[e]},n.chain=zo,n.chunk=function(e,t,n){t=(n?io(e,t,n):t===ie)?1:_u(ca(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=ka(pu(r/t));i<r;)a[o++]=kr(e,i,i+=t);return a},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ka(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return g(Bc(n)?ai(n):[n],An(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=Bi();return e=t?v(e,function(e){if("function"!=typeof e[1])throw new Fa(ue);return[n(e[0]),e[1]]}):[],Rr(function(n){for(var r=-1;++r<t;){var i=e[r];if(u(i[0],this,n))return u(i[1],this,n)}})},n.conforms=function(e){return hn(pn(e,le))},n.constant=ba,n.countBy=Sc,n.create=function(e,t){var n=Uu(e);return null==t?n:un(n,t)},n.curry=qo,n.curryRight=$o,n.debounce=Bo,n.defaults=os,n.defaultsDeep=as,n.defer=zc,n.delay=Mc,n.difference=ac,n.differenceBy=uc,n.differenceWith=cc,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:ca(t),kr(e,t<0?0:t,r)):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:ca(t),t=r-t,kr(e,0,t<0?0:t)):[]},n.dropRightWhile=function(e,t){return e&&e.length?Nr(e,Bi(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Nr(e,Bi(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&io(e,t,n)&&(n=0,r=i),Rn(e,t,n,r)):[]},n.filter=function(e,t){return(Bc(e)?p:En)(e,Bi(t,3))},n.flatMap=function(e,t){return An(Po(e,t),1)},n.flatMapDeep=function(e,t){return An(Po(e,t),je)},n.flatMapDepth=function(e,t,n){return n=n===ie?1:ca(n),An(Po(e,t),n)},n.flatten=Oo,n.flattenDeep=function(e){return(null==e?0:e.length)?An(e,je):[]},n.flattenDepth=function(e,t){return(null==e?0:e.length)?(t=t===ie?1:ca(t),An(e,t)):[]},n.flip=function(e){return ji(e,Re)},n.flow=Es,n.flowRight=As,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},n.functions=function(e){return null==e?[]:Tn(e,va(e))},n.functionsIn=function(e){return null==e?[]:Tn(e,ga(e))},n.groupBy=Ac,n.initial=function(e){return(null==e?0:e.length)?kr(e,0,-1):[]},n.intersection=sc,n.intersectionBy=fc,n.intersectionWith=lc,n.invert=us,n.invertBy=cs,n.invokeMap=Oc,n.iteratee=Sa,n.keyBy=Ic,n.keys=va,n.keysIn=ga,n.map=Po,n.mapKeys=function(e,t){var n={};return t=Bi(t,3),kn(e,function(e,r,i){sn(n,t(e,r,i),e)}),n},n.mapValues=function(e,t){var n={};return t=Bi(t,3),kn(e,function(e,r,i){sn(n,r,t(e,r,i))}),n},n.matches=function(e){return lr(pn(e,le))},n.matchesProperty=function(e,t){return pr(e,pn(t,le))},n.memoize=Vo,n.merge=fs,n.mergeWith=ls,n.method=Os,n.methodOf=Is,n.mixin=Ra,n.negate=Ho,n.nthArg=function(e){return e=ca(e),Rr(function(t){return vr(t,e)})},n.omit=ps,n.omitBy=function(e,t){return ya(e,Ho(Bi(t)))},n.once=function(e){return Uo(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(Bc(t)||(t=null==t?[]:[t]),n=r?ie:n,Bc(n)||(n=null==n?[]:[n]),gr(e,t,n))},n.over=ks,n.overArgs=Dc,n.overEvery=Ws,n.overSome=js,n.partial=Fc,n.partialRight=Pc,n.partition=kc,n.pick=hs,n.pickBy=ya,n.property=Aa,n.propertyOf=function(e){return function(t){return null==e?ie:Ln(e,t)}},n.pull=pc,n.pullAll=Wo,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?wr(e,t,Bi(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?wr(e,t,ie,n):e},n.pullAt=hc,n.range=Ts,n.rangeRight=Ls,n.rearg=Nc,n.reject=function(e,t){return(Bc(e)?p:En)(e,Ho(Bi(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Bi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Cr(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new Fa(ue);return t=t===ie?t:ca(t),Rr(e,t)},n.reverse=jo,n.sampleSize=function(e,t,n){return t=(n?io(e,t,n):t===ie)?1:ca(t),(Bc(e)?en:Ar)(e,t)},n.set=function(e,t,n){return null==e?e:Or(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:Or(e,t,n,r)},n.shuffle=function(e){return(Bc(e)?tn:Ir)(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&io(e,t,n)?(t=0,n=r):(t=null==t?0:ca(t),n=n===ie?r:ca(n)),kr(e,t,n)):[]},n.sortBy=Wc,n.sortedUniq=function(e){return e&&e.length?Lr(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Lr(e,Bi(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&io(e,t,n)&&(t=n=ie),(n=n===ie?Me:n>>>0)?(e=pa(e))&&("string"==typeof t||null!=t&&!Jc(t))&&!(t=Mr(t))&&$(e)?Gr(ee(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new Fa(ue);return t=null==t?0:_u(ca(t),0),Rr(function(n){var r=n[t],i=Gr(n,0,t);return r&&g(i,r),u(e,this,i)})},n.tail=function(e){var t=null==e?0:e.length;return t?kr(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?(t=n||t===ie?1:ca(t),kr(e,0,t<0?0:t)):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:ca(t),t=r-t,kr(e,t<0?0:t,r)):[]},n.takeRightWhile=function(e,t){return e&&e.length?Nr(e,Bi(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Nr(e,Bi(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Fa(ue);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bo(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=Mo,n.toArray=aa,n.toPairs=ds,n.toPairsIn=vs,n.toPath=function(e){return Bc(e)?v(e,bo):oa(e)?[e]:ai(oc(pa(e)))},n.toPlainObject=la,n.transform=function(e,t,n){var r=Bc(e),i=r||Hc(e)||Yc(e);if(t=Bi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ea(e)&&Yo(o)?Uu(tu(e)):{}}return(i?s:kn)(e,function(e,r,i){return t(n,e,r,i)}),n},n.unary=function(e){return No(e,1)},n.union=dc,n.unionBy=vc,n.unionWith=gc,n.uniq=function(e){return e&&e.length?Dr(e):[]},n.uniqBy=function(e,t){return e&&e.length?Dr(e,Bi(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:ie,e&&e.length?Dr(e,ie,t):[]},n.unset=function(e,t){return null==e||Fr(e,t)},n.unzip=To,n.unzipWith=Lo,n.update=function(e,t,n){return null==e?e:Pr(e,t,Vr(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:Pr(e,t,Vr(n),r)},n.values=ma,n.valuesIn=function(e){return null==e?[]:M(e,ga(e))},n.without=yc,n.words=Ca,n.wrap=function(e,t){return Fc(Vr(t),e)},n.xor=mc,n.xorBy=_c,n.xorWith=wc,n.zip=Cc,n.zipObject=function(e,t){return $r(e||[],t||[],rn)},n.zipObjectDeep=function(e,t){return $r(e||[],t||[],Or)},n.zipWith=bc,n.entries=ds,n.entriesIn=vs,n.extend=ts,n.extendWith=ns,Ra(n,n),n.add=zs,n.attempt=Ss,n.camelCase=gs,n.capitalize=_a,n.ceil=Ms,n.clamp=function(e,t,n){return n===ie&&(n=t,t=ie),n!==ie&&(n=(n=fa(n))===n?n:0),t!==ie&&(t=(t=fa(t))===t?t:0),ln(fa(e),t,n)},n.clone=function(e){return pn(e,he)},n.cloneDeep=function(e){return pn(e,le|he)},n.cloneDeepWith=function(e,t){return t="function"==typeof t?t:ie,pn(e,le|he,t)},n.cloneWith=function(e,t){return t="function"==typeof t?t:ie,pn(e,he,t)},n.conformsTo=function(e,t){return null==t||gn(e,t,va(t))},n.deburr=wa,n.defaultTo=function(e,t){return null==e||e!==e?t:e},n.divide=Ds,n.endsWith=function(e,t,n){e=pa(e),t=Mr(t);var r=e.length,i=n=n===ie?r:ln(ca(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},n.eq=Go,n.escape=function(e){return(e=pa(e))&&St.test(e)?e.replace(bt,Hn):e},n.escapeRegExp=function(e){return(e=pa(e))&&Tt.test(e)?e.replace(jt,"\\$&"):e},n.every=function(e,t,n){var r=Bc(e)?l:_n;return n&&io(e,t,n)&&(t=ie),r(e,Bi(t,3))},n.find=Rc,n.findIndex=Eo,n.findKey=function(e,t){return b(e,Bi(t,3),kn)},n.findLast=Ec,n.findLastIndex=Ao,n.findLastKey=function(e,t){return b(e,Bi(t,3),Wn)},n.floor=Fs,n.forEach=Do,n.forEachRight=Fo,n.forIn=function(e,t){return null==e?e:Bu(e,Bi(t,3),ga)},n.forInRight=function(e,t){return null==e?e:Vu(e,Bi(t,3),ga)},n.forOwn=function(e,t){return e&&kn(e,Bi(t,3))},n.forOwnRight=function(e,t){return e&&Wn(e,Bi(t,3))},n.get=ha,n.gt=Uc,n.gte=qc,n.has=function(e,t){return null!=e&&Yi(e,t,Jn)},n.hasIn=da,n.head=Io,n.identity=xa,n.includes=function(e,t,n,r){e=Zo(e)?e:ma(e),n=n&&!r?ca(n):0;var i=e.length;return n<0&&(n=_u(i+n,0)),ia(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&S(e,t,n)>-1},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ca(n);return i<0&&(i=_u(r+i,0)),S(e,t,i)},n.inRange=function(e,t,n){return t=ua(t),n===ie?(n=t,t=0):n=ua(n),e=fa(e),Yn(e,t,n)},n.invoke=ss,n.isArguments=$c,n.isArray=Bc,n.isArrayBuffer=Vc,n.isArrayLike=Zo,n.isArrayLikeObject=Jo,n.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Dn(e)==$e},n.isBuffer=Hc,n.isDate=Gc,n.isElement=function(e){return ta(e)&&1===e.nodeType&&!ra(e)},n.isEmpty=function(e){if(null==e)return!0;if(Zo(e)&&(Bc(e)||"string"==typeof e||"function"==typeof e.splice||Hc(e)||Yc(e)||$c(e)))return!e.length;var t=ec(e);if(t==Je||t==tt)return!e.size;if(so(e))return!ur(e).length;for(var n in e)if(Ba.call(e,n))return!1;return!0},n.isEqual=function(e,t){return nr(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:ie)?n(e,t):ie;return r===ie?nr(e,t,ie,n):!!r},n.isError=Ko,n.isFinite=function(e){return"number"==typeof e&&gu(e)},n.isFunction=Yo,n.isInteger=Qo,n.isLength=Xo,n.isMap=Zc,n.isMatch=function(e,t){return e===t||ir(e,t,Hi(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:ie,ir(e,t,Hi(t),n)},n.isNaN=function(e){return na(e)&&e!=+e},n.isNative=function(e){if(tc(e))throw new ja(ae);return or(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=na,n.isObject=ea,n.isObjectLike=ta,n.isPlainObject=ra,n.isRegExp=Jc,n.isSafeInteger=function(e){return Qo(e)&&e>=-Te&&e<=Te},n.isSet=Kc,n.isString=ia,n.isSymbol=oa,n.isTypedArray=Yc,n.isUndefined=function(e){return e===ie},n.isWeakMap=function(e){return ta(e)&&ec(e)==ot},n.isWeakSet=function(e){return ta(e)&&Dn(e)==at},n.join=function(e,t){return null==e?"":yu.call(e,t)},n.kebabCase=ys,n.last=ko,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ie&&(i=(i=ca(n))<0?_u(r+i,0):wu(i,r-1)),t===t?Q(e,t,i):x(e,E,i,!0)},n.lowerCase=ms,n.lowerFirst=_s,n.lt=Qc,n.lte=Xc,n.max=function(e){return e&&e.length?Sn(e,xa,Bn):ie},n.maxBy=function(e,t){return e&&e.length?Sn(e,Bi(t,2),Bn):ie},n.mean=function(e){return A(e,xa)},n.meanBy=function(e,t){return A(e,Bi(t,2))},n.min=function(e){return e&&e.length?Sn(e,xa,sr):ie},n.minBy=function(e,t){return e&&e.length?Sn(e,Bi(t,2),sr):ie},n.stubArray=Oa,n.stubFalse=Ia,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Ps,n.nth=function(e,t){return e&&e.length?vr(e,ca(t)):ie},n.noConflict=function(){return jn._===this&&(jn._=Ja),this},n.noop=Ea,n.now=jc,n.pad=function(e,t,n){e=pa(e);var r=(t=ca(t))?X(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ri(hu(i),n)+e+Ri(pu(i),n)},n.padEnd=function(e,t,n){e=pa(e);var r=(t=ca(t))?X(e):0;return t&&r<t?e+Ri(t-r,n):e},n.padStart=function(e,t,n){e=pa(e);var r=(t=ca(t))?X(e):0;return t&&r<t?Ri(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bu(pa(e).replace(zt,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&io(e,t,n)&&(t=n=ie),n===ie&&("boolean"==typeof t?(n=t,t=ie):"boolean"==typeof e&&(n=e,e=ie)),e===ie&&t===ie?(e=0,t=1):(e=ua(e),t===ie?(t=e,e=0):t=ua(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=xu();return wu(e+i*(t-e+On("1e-"+((i+"").length-1))),t)}return br(e,t)},n.reduce=function(e,t,n){var r=Bc(e)?y:k,i=arguments.length<3;return r(e,Bi(t,4),n,i,qu)},n.reduceRight=function(e,t,n){var r=Bc(e)?m:k,i=arguments.length<3;return r(e,Bi(t,4),n,i,$u)},n.repeat=function(e,t,n){return t=(n?io(e,t,n):t===ie)?1:ca(t),Sr(pa(e),t)},n.replace=function(){var e=arguments,t=pa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=Hr(t,e)).length;for(i||(i=1,e=ie);++r<i;){var o=null==e?ie:e[bo(t[r])];o===ie&&(r=i,o=n),e=Yo(o)?o.call(e):o}return e},n.round=Ns,n.runInContext=e,n.sample=function(e){return(Bc(e)?Xt:Er)(e)},n.size=function(e){if(null==e)return 0;if(Zo(e))return ia(e)?X(e):e.length;var t=ec(e);return t==Je||t==tt?e.size:ur(e).length},n.snakeCase=ws,n.some=function(e,t,n){var r=Bc(e)?_:Wr;return n&&io(e,t,n)&&(t=ie),r(e,Bi(t,3))},n.sortedIndex=function(e,t){return jr(e,t)},n.sortedIndexBy=function(e,t,n){return Tr(e,t,Bi(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=jr(e,t);if(r<n&&Go(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return jr(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Tr(e,t,Bi(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=jr(e,t,!0)-1;if(Go(e[n],t))return n}return-1},n.startCase=Cs,n.startsWith=function(e,t,n){return e=pa(e),n=null==n?0:ln(ca(n),0,e.length),t=Mr(t),e.slice(n,n+t.length)==t},n.subtract=Us,n.sum=function(e){return e&&e.length?j(e,xa):0},n.sumBy=function(e,t){return e&&e.length?j(e,Bi(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&io(e,t,r)&&(t=ie),e=pa(e),t=ns({},t,i,Ti);var o,a,u=ns({},t.imports,i.imports,Ti),c=va(u),s=M(u,c),f=0,l=t.interpolate||Kt,p="__p += '",h=Ma((t.escape||Kt).source+"|"+l.source+"|"+(l===At?qt:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Cn+"]")+"\n";e.replace(h,function(t,n,r,i,u,c){return r||(r=i),p+=e.slice(f,c).replace(Yt,U),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=c+t.length,t}),p+="';\n";var v=t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(mt,""):p).replace(_t,"$1").replace(wt,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Ss(function(){return Ta(c,d+"return "+p).apply(ie,s)});if(g.source=p,Ko(g))throw g;return g},n.times=function(e,t){if((e=ca(e))<1||e>Te)return[];var n=Me,r=wu(e,Me);t=Bi(t),e-=Me;for(var i=T(r,t);++n<e;)t(n);return i},n.toFinite=ua,n.toInteger=ca,n.toLength=sa,n.toLower=function(e){return pa(e).toLowerCase()},n.toNumber=fa,n.toSafeInteger=function(e){return e?ln(ca(e),-Te,Te):0===e?e:0},n.toString=pa,n.toUpper=function(e){return pa(e).toUpperCase()},n.trim=function(e,t,n){if((e=pa(e))&&(n||t===ie))return e.replace(Lt,"");if(!e||!(t=Mr(t)))return e;var r=ee(e),i=ee(t);return Gr(r,F(r,i),P(r,i)+1).join("")},n.trimEnd=function(e,t,n){if((e=pa(e))&&(n||t===ie))return e.replace(Mt,"");if(!e||!(t=Mr(t)))return e;var r=ee(e);return Gr(r,0,P(r,ee(t))+1).join("")},n.trimStart=function(e,t,n){if((e=pa(e))&&(n||t===ie))return e.replace(zt,"");if(!e||!(t=Mr(t)))return e;var r=ee(e);return Gr(r,F(r,ee(t))).join("")},n.truncate=function(e,t){var n=Ee,r=Ae;if(ea(t)){var i="separator"in t?t.separator:i;n="length"in t?ca(t.length):n,r="omission"in t?Mr(t.omission):r}var o=(e=pa(e)).length;if($(e)){var a=ee(e);o=a.length}if(n>=o)return e;var u=n-X(r);if(u<1)return r;var c=a?Gr(a,0,u).join(""):e.slice(0,u);if(i===ie)return c+r;if(a&&(u+=c.length-u),Jc(i)){if(e.slice(u).search(i)){var s,f=c;for(i.global||(i=Ma(i.source,pa($t.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var l=s.index;c=c.slice(0,l===ie?u:l)}}else if(e.indexOf(Mr(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},n.unescape=function(e){return(e=pa(e))&&xt.test(e)?e.replace(Ct,Gn):e},n.uniqueId=function(e){var t=++Va;return pa(e)+t},n.upperCase=bs,n.upperFirst=xs,n.each=Do,n.eachRight=Fo,n.first=Io,Ra(n,function(){var e={};return kn(n,function(t,r){Ba.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),s(["drop","take"],function(e,t){w.prototype[e]=function(n){n=n===ie?1:_u(ca(n),0);var r=this.__filtered__&&!t?new w(this):this.clone();return r.__filtered__?r.__takeCount__=wu(n,r.__takeCount__):r.__views__.push({size:wu(n,Me),type:e+(r.__dir__<0?"Right":"")}),r},w.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==ke||3==n;w.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Bi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),s(["head","last"],function(e,t){var n="take"+(t?"Right":"");w.prototype[e]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");w.prototype[e]=function(){return this.__filtered__?new w(this):this[n](1)}}),w.prototype.compact=function(){return this.filter(xa)},w.prototype.find=function(e){return this.filter(e).head()},w.prototype.findLast=function(e){return this.reverse().find(e)},w.prototype.invokeMap=Rr(function(e,t){return"function"==typeof e?new w(this):this.map(function(n){return er(n,e,t)})}),w.prototype.reject=function(e){return this.filter(Ho(Bi(e)))},w.prototype.slice=function(e,t){e=ca(e);var n=this;return n.__filtered__&&(e>0||t<0)?new w(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ie&&(n=(t=ca(t))<0?n.dropRight(-t):n.take(t-e)),n)},w.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},w.prototype.toArray=function(){return this.take(Me)},kn(w.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],u=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,c=o?[1]:arguments,s=t instanceof w,f=c[0],l=s||Bc(t),p=function(e){var t=a.apply(n,g([e],c));return o&&h?t[0]:t};l&&r&&"function"==typeof f&&1!=f.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,v=u&&!h,y=s&&!d;if(!u&&l){t=y?t:new w(this);var m=e.apply(t,c);return m.__actions__.push({func:Mo,args:[p],thisArg:ie}),new i(m,h)}return v&&y?e.apply(this,c):(m=this.thru(p),v?o?m.value()[0]:m.value():m)})}),s(["pop","push","shift","sort","splice","unshift"],function(e){var t=Pa[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(Bc(n)?n:[],e)}return this[r](function(n){return t.apply(Bc(n)?n:[],e)})}}),kn(w.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(ju[i]||(ju[i]=[])).push({name:t,func:r})}}),ju[Ci(ie,ye).name]=[{name:"wrapper",func:ie}],w.prototype.clone=function(){var e=new w(this.__wrapped__);return e.__actions__=ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ai(this.__views__),e},w.prototype.reverse=function(){if(this.__filtered__){var e=new w(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},w.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Bc(e),r=t<0,i=n?e.length:0,o=Ji(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,f=this.__iteratees__,l=f.length,p=0,h=wu(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return Ur(e,this.__actions__);var d=[];e:for(;c--&&p<h;){for(var v=-1,g=e[s+=t];++v<l;){var y=f[v],m=y.iteratee,_=y.type,w=m(g);if(_==We)g=w;else if(!w){if(_==ke)continue e;break e}}d[p++]=g}return d},n.prototype.at=xc,n.prototype.chain=function(){return zo(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===ie&&(this.__values__=aa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ie:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var i=Ro(n);i.__index__=0,i.__values__=ie,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof w){var t=e;return this.__actions__.length&&(t=new w(this)),(t=t.reverse()).__actions__.push({func:Mo,args:[jo],thisArg:ie}),new i(t,this.__chain__)}return this.thru(jo)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Ur(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,au&&(n.prototype[au]=function(){return this}),n}();jn._=Zn,(i=function(){return Zn}.call(t,n,t,r))!==ie&&(r.exports=i)}).call(this)}).call(t,n(23),n(135)(e))},2256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2257);t.getDefaultRetryStrategy=function(e){var t=(void 0===e?{}:e).timeoutBetweenRetries;return{conditions:[r.shouldRetryOnReloadEvent,r.shouldRetryOnDormant,r.shouldRetryNotExceededAttempts],timeoutBetweenRetries:t||0,recreateTimeout:18e4,maxRecreateAttempts:3}},t.getLinearNetworkErrorRetry=function(e){var t=(void 0===e?{}:e).timeoutBetweenRetries;return{conditions:[r.shouldRetryOnReloadEvent,r.shouldRetryOnDormant,r.shouldRetryOnNetworkError,r.shouldRetryOnNavigateError,r.shouldRetryNotExceededAttempts],timeoutBetweenRetries:t||2e4,recreateTimeout:18e4,maxRecreateAttempts:3}}},2257:function(e,t,n){"use strict";function r(e){var n=this,r=e.logger,i=e.appStateService,o=e.eventingService,c=e.constants,s=e.timeoutBetweenRetries,f=e.scenario;return r.info("Are we connected? "+i.isConnected),new Promise(function(e){return a(n,void 0,void 0,function(){var n;return u(this,function(a){switch(a.label){case 0:return i.isConnected?[4,t.wait(s,r)]:[3,2];case 1:return a.sent(),e(),[2];case 2:return f.pause({reason:"no network"}),n=o.unsafeOn(c.events.appState.changed,function(){i.isConnected&&(f.resume(),r.info("App state updated. We are now connected."),n(),e())}),[2]}})})})}function i(e,t){return e>=t}function o(e,t){return Object.defineProperty(t,"name",{value:e})}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},c=this;Object.defineProperty(t,"__esModule",{value:!0}),t.wait=function(e,t){return t.info("Starting to wait for "+e+"ms."),new Promise(function(n){setTimeout(function(){t.info("Done waiting for "+e+"."),n()},e)})},t.shouldRetryOnReloadEvent=o("shouldRetryOnReloadEvent",function(e){var t=e.event,n=e.logger;return a(c,void 0,void 0,function(){return u(this,function(e){return"reloaded"===t.reason?(n.info("Attempting to recreate the experience container after unloading."),[2,{shouldRetry:!0,resetRetryCountAfterRetry:!0}]):[2,{shouldRetry:!1}]})})}),t.shouldRetryOnDormant=o("shouldRetryOnDormant",function(e){var t=e.timeElapsed,n=e.recreateTimeout,r=e.logger;return a(c,void 0,void 0,function(){return u(this,function(e){return t>n?(r.info("Attempting to recreate the experience container because the last attempt was made "+t+" ms ago, which is beyond the recreate limit time window: "+n+" ms."),[2,{shouldRetry:!0,resetRetryCountAfterRetry:!0}]):[2,{shouldRetry:!1}]})})}),t.shouldRetryOnNetworkError=o("shouldRetryOnNetworkError",function(e){return a(c,void 0,void 0,function(){var t,n,o,a,c,s;return u(this,function(u){switch(u.label){case 0:return t=e.event,n=e.logger,o=e.resetRetriesOnce,a=e.retries,c=e.maxRecreateAttempts,"failed-to-load"!==t.reason&&"failed-to-load-chunk"!==t.reason?[3,2]:(o(),i(a,c)?[3,2]:(s=t.data&&t.data.statusCode,n.info(t.reason+" - recreating experience container. Status code: "+s),[4,r(e)]));case 1:return u.sent(),[2,{shouldRetry:!0}];case 2:return[2,{shouldRetry:!1}]}})})}),t.shouldRetryOnNavigateError=o("shouldRetryOnNavigateError",function(e){return a(c,void 0,void 0,function(){var n,r,o,a,c,s,f;return u(this,function(u){switch(u.label){case 0:return n=e.event,r=e.logger,o=e.resetRetriesOnce,a=e.retries,c=e.timeoutBetweenRetries,s=e.maxRecreateAttempts,"failed-to-navigate"!==n.reason?[3,2]:(o(),i(a,s)?[3,2]:(f=n.data&&n.data.statusCode,r.info("failed-to-navigate - recreating experience container. Status code: "+f),[4,t.wait(c,r)]));case 1:return u.sent(),[2,{shouldRetry:!0}];case 2:return[2,{shouldRetry:!1}]}})})}),t.shouldRetryNotExceededAttempts=o("shouldRetryNotExceededAttempts",function(e){var n=e.logger,r=e.retries,o=e.timeoutBetweenRetries,s=e.maxRecreateAttempts;return a(c,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return i(r,s)?[3,2]:(n.info("Attempting to recreate the experience container. Attempt #"+r+"."),[4,t.wait(o,n)]);case 1:return e.sent(),[2,{shouldRetry:!0}];case 2:return[2,{shouldRetry:!1}]}})})})},2258:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=n(2259),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.experienceContainerManager=n,o.experienceContainerFeatureService=r,o.$window=i,o.isHidden=!0,o.initializeOnAppLaunchAndReinit("constructor"),o}return r(t,e),t.$inject=["orchestrationService","experienceContainerManager","experienceContainerFeatureService","$window"],Object.defineProperty(t.prototype,"experienceContainer",{get:function(){return this.experienceContainerManager.get("hybrid-app")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"experienceUiWrap",{get:function(){return this.experienceContainerManager.getUiHandle("hybrid-app")},enumerable:!0,configurable:!0}),t.prototype.initializeOnAppLaunchAndReinit=function(e){var t=this;this.isEnabled()&&(this.resizeObserver=new ResizeObserver(function(e){var n=e[0].contentRect;t.resizeUtil.setSize(n)}),this.resizeUtil=new o.HybridAppResizeUtil,this.experienceContainerFeatureService.isHybridAppExperienceContainerEnabled()&&this.startResizeAnimation(this.experienceUiWrap))},t.prototype.mtmaTelemetryIdentifier=function(){return"HybridAppService"},t.prototype.cleanupOnAppTeardown=function(e){this.resizeUtil=void 0,this.resizeSampleElement=void 0,this.isHidden=!0,this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.experienceContainerManager.isReady},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryState",{get:function(){return this.experienceContainerManager.retryState},enumerable:!0,configurable:!0}),t.prototype.onReady=function(e){return this.experienceContainerManager.onReady(e)},t.prototype.collectLogs=function(){return this.experienceContainerManager.collectLogs()},t.prototype.setSettings=function(e){this.sendMessage(e)},t.prototype.setTheme=function(e){this.sendMessage({hostSettings:{theme:e}})},t.prototype.setAppState=function(e){this.sendMessage({hostSettings:{appState:e}})},t.prototype.setLocale=function(e){this.sendMessage({hostSettings:{localeCode:e}})},t.prototype.nudge=function(){this.experienceContainerManager.nudge()},t.prototype.sendCommand=function(e){return this.showCommand(e)},t.prototype.show=function(e,t,n){if(void 0===n&&(n=!0),!this.isEnabled())throw teamspace.services.commanding.EntityCommandErrorCode.ExperienceContainerNotEnabled;var r;return this.isHidden=!1,r=n?this.showCommand(e):Promise.resolve(),this.experienceUiWrap.setAttribute("class","visible overlay"),this.resizeSampleElement&&this.resizeSampleElement===t||(this.resizeSampleElement&&this.resizeObserver.disconnect(),this.resizeSampleElement=t,t&&this.resizeObserver.observe(t)),r},t.prototype.hide=function(){this.resizeSampleElement=void 0,this.isHidden=!0,this.experienceUiWrap.setAttribute("class","hidden"),this.resizeObserver.disconnect()},t.prototype.shouldShowChatNotification=function(e){return this.experienceContainerManager.shouldShowChatNotification(e)},t.prototype.isEnabled=function(){return this.experienceContainer&&this.experienceContainerFeatureService.isExperienceContainerSupportEnabled()},t.prototype.showCommand=function(e){var t={eventId:"executeEntityCommand",payload:{entity:e.entity,command:e.command}};return this.experienceContainer.sendCommand(t)},t.prototype.startResizeAnimation=function(e){var t=this,n=$(e),r=function(e){if(t.isEnabled()&&!t.isHidden){var i=t.resizeUtil.getElementStyle(e);n.css(i)}t.$window.requestAnimationFrame(r)};this.$window.requestAnimationFrame(r)},t.prototype.sendMessage=function(e){if(this.experienceContainer){var t={eventId:i.ChildWindowEventRequest.UpdateWindowState,payload:e};this.experienceContainer.sendCommand(t)}},t}(teamspace.services.MTMABase);t.HybridAppService=a,angular.module("teamspace.hybridAppServiceLazy",["teamspace.orchestrationService","teamspace.experienceContainerManager","teamspace.experienceContainerFeatureService"]).service("hybridAppServiceLazy",a)},2259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.lastResizeTimestamp=0,this.RESIZE_INTERVAL=200}return e.prototype.setSize=function(e){this.height=e.height,this.width=e.width},e.prototype.getElementStyle=function(e){var t=this.getSize(),n=t.width,r=t.height,i=this.lastSetHeight!==n||this.lastSetWidth!==r,o=e-this.lastResizeTimestamp;return i?o>=this.RESIZE_INTERVAL?(this.lastSetHeight=r,this.lastSetWidth=n,this.lastResizeTimestamp=e,{transform:"none",width:n+"px",height:r+"px"}):{transform:"scale("+n/this.lastSetWidth+","+r/this.lastSetHeight+")"}:{transform:"none"}},e.prototype.getSize=function(){return{width:this.width,height:this.height}},e}();t.HybridAppResizeUtil=r},227:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.logger=t,a.elementId=n,a.params=r,a.constants=i,a.$window=o,a.sendCommand=function(e){try{return a._sendCommand(e)}catch(e){throw a.logger.error("sendCommand() failed - elementId={0}: {1}",a.elementId,e),teamspace.services.commanding.EntityCommandErrorCode.SendCommandFailure}},a.element=a.createElement(r.url),a}return r(t,e),t.prototype.appendTo=function(e){if(this.element)try{return e.appendChild(this.element),Promise.resolve()}catch(e){return this.logger.error("appendChild() failed - elementId={0}: {1}",this.elementId,e),Promise.reject(this.constants.experienceContainers.reason.ecAppendToError)}return Promise.reject(this.constants.experienceContainers.reason.ecAppendToNoElement)},t}(n(2248).EventPublisher);t.ExperienceContainer=i},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperienceContainerEventNames=teamspace.services.ExperienceContainerEventNames,t.ExperienceContainerType=teamspace.services.ExperienceContainerType,t.ExperienceCommand=teamspace.services.ExperienceCommand,t.ShowEntityResultCode=teamspace.services.ShowEntityResultCode,t.RetryState=teamspace.services.RetryState,t.EntityCommandErrorCode=teamspace.services.commanding.EntityCommandErrorCode,t.ChildWindowEventRequest=teamspace.services.ChildWindowEventRequest},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.createDiv=function(e){return this.createElement("div",e)},e.prototype.createWebView=function(e){return this.createElement("webview",e)},e.prototype.createIframe=function(e){return this.createElement("iframe",e)},e.prototype.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n},e}();t.htmlFactory=new r}},[2245]);
//# sourceMappingURL=https://statics.teams.cdn.office.net/hashedjs/lazy-ng1-mod-experience-container-services.min.js-0a251d01.map